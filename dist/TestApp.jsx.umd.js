!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("react"),require("react-toastify"),require("ionicons/icons"),require("@material-ui/core"),require("@material-ui/core/Box"),require("@material-ui/icons"),require("prop-types"),require("react-router-dom"),require("styled-components"),require("axios"),require("@capacitor/core"),require("react-modal")):"function"==typeof define&&define.amd?define(["react","react-toastify","ionicons/icons","@material-ui/core","@material-ui/core/Box","@material-ui/icons","prop-types","react-router-dom","styled-components","axios","@capacitor/core","react-modal"],n):(e=e||self).ishlibjs=n(e.react,e.reactToastify,0,0,e._Box,e.icons$1,e.PropTypes,0,e.styled,e.axios,0,e.Modal)}(this,function(e,n,t,r,o,a,i,l,s,c,u,d){var p="default"in e?e.default:e;function m(){return(m=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function f(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n.indexOf(t=a[r])>=0||(o[t]=e[t]);return o}function h(e,n){return n||(n=e.slice(0)),e.raw=n,e}o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i,s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s,c=c&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c,d=d&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d;var g,y,v,x,b,O,w,E,M,C,P,j,k,q,L={anonUser:{},bottomDrawerOpen:"bottom-drawer-open",collapsible:{description:"descr-sec",extra1:"extra1-sec",extra2:"extra2-sec",extra3:"extra3-sec",map:"map-sec",markers:"markers-sec"},collapsibles:"collapsibles",current_user:"current_user",horizontal:"horizontal",item_types:{gallery:"Gallery",report:"Report",video:"Video"},jwt_token:"jwt_token",layout_onecol:"onecol",layout_mapui:"mapui",locations:{earth:"earth"},map_panel_types:{Equirectangular:"Equirectangular",MapPanel:"MapPanel",MapPanelNoZoom:"MapPanelNoZoom",ThreePanelV1:"ThreePanelV1",ThreePanelV4:"ThreePanelV4"},names:{scratchpad:"Scratchpad"},rated:{nc17:"nc-17"},ratedConfirmation:"rated-confirmation",theme:"theme",themes:{dark:"dark",light:"light"},twofoldPercent:"twofold-percent",variants:{bordered:"bordered",floating:"floating",inline:"inline",transparent:"transparent"},vertical:"vertical"},T=c.create({}),R=["children"],_=["children"],S=["children","onClose"],N=(s.div(g||(g=h(["\n\n  // @TODO: this should use variables, for Modal inner size.\n  // I'd need to do dependency injection of the variable, from infiniteshelterjs into ishlibjs.\n  position: fixed; // for GalleriesShow\n  top: 60px;\n  right: 60px;\n\n  display: flex;\n  flex-direction: row-reverse;\n"]))),s.div(y||(y=h(["\n  margin-right: 5px;\n  cursor: pointer;\n"]))),s.div(v||(v=h(["\n  border: 1px solid gray;\n  border-radius: 5px;\n  cursor: pointer;\n  display: inline-block;\n  padding: .3em 1em;\n"])))),B=(s(a.ChevronLeft)(x||(x=h(["\n  color: ","\n"])),function(e){return e.theme.colors.text}),s(a.ChevronRight)(b||(b=h(["\n  color: ","\n"])),function(e){return e.theme.colors.text}),s(o)(O||(O=h(["\n  margin-bottom: 1em;\n  padding: 1em;\n  background: white;\n  cursor: ",";\n\n  display: flex;\n  flex-direction: column;\n"])),function(e){return e.cursor?e.cursor:"auto"}),function(e){var n=f(e,R);return p.createElement(a.Close,m({style:m({cursor:"pointer"},n.style)},n))});B.propTypes={onClick:i.func.isRequired};var z=s.div(w||(w=h(["\n  display: flex;\n  flex-direction: column;\n\n  > * {\n    margin: auto .4em; // @TODO: standardize this size!\n  }\n"]))),D=function(e){var n=e.children,t=f(e,_);return p.createElement(z,m({className:"FlexCol"},t),n)},U=s.div(E||(E=h(["\n  display: flex;\n\n  > * {\n    // margin: auto .4em; // @TODO: why? the LoginModal needs no margins!\n  }\n"]))),A=(s.div(M||(M=h(["\n  position: fixed;\n  z-index: 999;\n  overflow: show;\n  margin: auto;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  width: 50px;\n  height: 50px;\n"]))),function(e,n,t){void 0===n&&(n=""),void 0===t&&(t=null),(t="string"==typeof t?t:n.replace(/\W/g,"")).length>0&&"undefined"!=typeof window&&(window[t]=e),console.log("+++ "+n+":",e)}),V=(s(a.Menu)(C||(C=h(["\n  color: ","\n"])),function(e){return e.theme.colors.text}),s.div(P||(P=h(["\n  flex-grow: 1;\n  text-align: center;\n  font-size: 1.2rem;\n"])))),F=function(e){var n=e.children,t=e.onClose;return f(e,S),p.createElement(U,null,p.createElement(V,null,n),p.createElement(B,{onClick:t}))};F.propTypes={onClose:i.func.isRequired},s.div(j||(j=h(["\n  border: ",";\n  border-radius: ",";\n  background: ",";\n  padding: .5em;\n\n  margin-bottom: 1em;\n"])),function(e){return e.theme.thinBorder},function(e){return e.theme.thinBorderRadius},function(e){return e.theme.colors.cardBackground}),s.div(k||(k=h(["\n  border: ",";\n  border-radius: ",";\n  background: ",";\n  color: ",";\n\n  margin: 0 .5em .5em 0;\n  padding: .5em;\n\n  text-align: center;\n\n  width: 18%;\n  max-width: 140px;\n  min-width: 120px;\n"])),function(e){return e.theme.thinBorder},function(e){return e.theme.thinBorderRadius},function(e){return e.theme.colors.cardBackground},function(e){return e.theme.colors.text}),s.div(q||(q=h(["\n  height: 100vh;\n"]))),p.createContext({});var G={LoginModal:"_2YolN",LoginModalOverlay:"_3hqvY",Notice:"_2ifwF"},I=function(n){var t=n.onError,r=n.onSuccess,o=e.useContext(Y),a=o.loginModalOpen,i=o.setLoginModalOpen,l=o.setRegisterModalOpen,s=o.useApi,c=e.useState(""),u=c[0],m=c[1],f=e.useState(""),h=f[0],g=f[1],y=s(),v=function(e,n){try{return y.postLogin({email:e,password:n}).then(function(e){i(!1),r(e)}).catch(function(e){t(e)}),Promise.resolve()}catch(e){return Promise.reject(e)}};return d.setAppElement("body"),p.createElement(d,{className:"LoginModal "+G.LoginModal,isOpen:!!a,overlayClassName:G.LoginModalOverlay,portalClassName:G.LoginModalPortal},p.createElement(F,{onClose:function(){return i(!1)}},"Login"),"string"==typeof a&&p.createElement(U,null,p.createElement("div",{className:G.Notice},a)),p.createElement(D,null,p.createElement("label",{htmlFor:"email"},"Email"),p.createElement("input",{name:"email",type:"email",value:u,onChange:function(e){return m(e.target.value)}}),p.createElement("label",{htmlFor:"password"},"Password"),p.createElement("input",{name:"password",type:"password",value:h,onChange:function(e){return g(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&v(u,h)}}),p.createElement(U,{style:{flexDirection:"row-reverse",justifyContent:"space-between",marginTop:"0.4em"}},p.createElement(N,{onClick:function(){return v(u,h)}},"Login"))),p.createElement("hr",{style:{margin:"2rem 0",borderWidth:"1px"}}),p.createElement(U,{style:{justifyContent:"center"}},p.createElement("a",{onClick:function(){i(!1),l(!0)}},"Register Instead")))};I.propTypes={onError:i.func,onSuccess:i.func};var W=["children"],Y=e.createContext({}),Z=function(n){var t=n.children,r=f(n,W);A(r,"AuthContextProvider");var o=r.currentUser,a=void 0===o?L.anonUser:o,i=r.setCurrentUser,l=r.loginModalOpen,s=void 0!==l&&l,c=r.setLoginModalOpen,u=r.registerModalOpen,d=void 0!==u&&u,h=r.setRegisterModalOpen,g=e.useState(a),y=g[0],v=g[1];i&&(y=a,v=i);var x=e.useState(s),b=x[0],O=x[1];c&&(b=s,O=c);var w=e.useState(d),E=w[0],M=w[1];return h&&(E=d,M=h),p.createElement(Y.Provider,{value:m({},r,{currentUser:y,setCurrentUser:v,loginModalOpen:b,setLoginModalOpen:O,registerModalOpen:E,setRegisterModalOpen:M})},t)};return Z.propTypes={useApi:i.func.isRequired},function(){var t=e.useState(!1),r=t[0],o=t[1],a=e.useState(!0);return p.createElement(Z,{loginModalOpen:r,setLoginModalOpen:o,registerModalOpen:a[0],setRegisterModalOpen:a[1],useApi:function(){return{doRegister:function(e){return T.post("http://localhost:3001/api/users",{email:e.email,password:e.password}).then(function(e){return e.data}).then(function(e){return A(e,"done registered"),e})}}}},p.createElement(I,null),p.createElement(n.ToastContainer,{position:"bottom-left"}))}});
//# sourceMappingURL=TestApp.jsx.umd.js.map
