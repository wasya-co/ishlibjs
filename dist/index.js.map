{"version":3,"file":"index.js","sources":["../src/shared/Collapsible.jsx","../src/shared/request.jsx","../src/shared/S.jsx","../src/shared/index.jsx","../src/jwt_manager/index.jsx"],"sourcesContent":["\nimport PropTypes from 'prop-types'\nimport React, { Fragment as F, useContext, useEffect, useState } from 'react'\nimport styled from 'styled-components'\n\nimport {\n  C, CollapsibleContext,\n  logg,\n  S,\n  WBordered, WBorderedItem,\n} from '$shared'\n\nconst Gt = () => <span>&nbsp;&gt;&nbsp;&nbsp;</span>\n\nconst Inner = styled.div`\n  // border: 2px solid red;\n  // max-height: 100vh;\n\n  clear: left;\n`;\n\nconst Lt = () => <span>&nbsp;&lt;&nbsp;&nbsp;</span>\n\nconst Label = styled.div`\n  display: flex;\n  margin-bottom: ${p => p.theme.borderWidth};\n`;\n\nconst WTransparent = styled.div`\n  background: ${p => p.theme.colors.background};\n\n  margin: 0 0.5 1em .5em;\n  padding: 0 .5em .5em .5em;\n\n`;\nconst W = ({ children, variant, ...props }) => {\n  switch (variant) {\n    case C.variants.bordered:\n      return <WBordered {...props} >{children}</WBordered>\n    default:\n      return <WTransparent {...props} >{children}</WTransparent>\n  }\n}\n\n\n/**\n * Collapsible\n *\n * @TODO: test-driven _vp_ 2021-10-29\n */\nconst Collapsible = ({ children, ...props }) => {\n  // logg(props, 'Collapsible')\n  const { className='', config, variant, } = props\n\n  const ctx = useContext(CollapsibleContext)\n  if (!ctx) { return null }\n  const { collapsibles, setCollapsibles } = ctx\n\n  const doToggle = () => setCollapsibles({ ...collapsibles, [props.slug]: !collapsibles[props.slug] })\n\n  const collapsible = typeof config === 'undefined' ? true\n    : typeof config.collapsible === 'undefined' ? true\n      : config.collapsible\n  const folded = collapsible ? !!collapsibles[props.slug] : false\n\n  return <W variant={variant} className={`Collapsible ${className}`} >\n    { props.label &&  collapsible && <Label onClick={doToggle} >{folded ? <Lt /> : <Gt />} {props.label}</Label> }\n    { props.label && !collapsible && <Label >{props.label}</Label> }\n    { !folded && <Inner>{ children }</Inner> }\n  </W>\n}\n\nCollapsible.propTypes = {\n  className: PropTypes.string,\n  config: PropTypes.shape({\n    collapsible: PropTypes.bool,\n  }),\n  label: PropTypes.string,\n  slug: PropTypes.string.isRequired,\n  variant: PropTypes.string,\n}\nexport default Collapsible\n","import axios from \"axios\";\nimport config from \"config\";\n\nconst settings = {\n  baseURL: config.apiOrigin\n}\n\nexport default axios.create(settings);","\n/**\n * Style Constants\n */\nconst S = {\n  // Twofold layout\n  borderWidth: '10px',\n  bottomDrawerClosedHeight: '20px',\n  bottomDrawerOpenHeight: '115px',\n  breadcrumbsHeight: '30px',\n\n  thinBorderWidth: '2px',\n  thinBorderRadius: '5px',\n}\n\nconst lightTheme = {\n  ...S,\n  thinBorder: '2px solid black',\n  colors: {\n    text: 'black',\n    background: '#dedede',\n    blue: '#6aa3e9',\n    darkGrey: '#605d5d',\n    lightGrey: '#988b8b',\n    red: 'red',\n    border: 'black',\n    cardBackground: 'white'\n  }\n}\n\nconst darkTheme = {\n  ...S,\n  thinBorder: '2px solid white',\n  colors: {\n    text: 'white',\n    background: '#292929',\n    blue: '#73b0fa',\n    darkGrey: '#b3afaf',\n    lightGrey: '#4a4343',\n    red: '#eb83a8',\n    border: 'white',\n    cardBackground: '#1a1a1a'\n  }\n}\n\nexport default {\n  lightTheme,\n  darkTheme\n}","/*\n *  $shared / index\n */\n// alphabetized\nimport { arrowBack } from 'ionicons/icons'\nimport { IonIcon } from '@ionic/react'\nimport { CircularProgress as _CircularProgress } from '@material-ui/core'\nimport _Box from '@material-ui/core/Box'\nimport { ChevronLeft as _ChevronLeft, ChevronRight as _ChevronRight, Menu as _MenuIcon, } from '@material-ui/icons'\nimport React, { useState } from 'react'\nimport {\n  Link, Switch, BrowserRouter as Router, Redirect, Route as _Route, useHistory, withRouter\n} from 'react-router-dom'\nimport styled from 'styled-components'\n\nimport C from \"./C\"\n\n/* A */\nexport { default as useApi } from \"./Api\"\nexport { default as AppMock } from \"./AppMock\"\nexport { default as AppRouter } from \"./AppRouter\"\n\n/* B */\n\n/**\n * Back Button\n */\nconst BackIcon = styled(IonIcon)`\n  margin-right: 5px;\n  cursor: pointer;\n`;\nexport const BackBtn = () => {\n  const history = useHistory()\n  return <BackIcon onClick={history.goBack} icon={arrowBack}></BackIcon>\n}\n\n/**\n * Just your regular shadowed box. Pointer cursor. TDD\n */\nexport const Btn = styled.div`\n  border: 1px solid gray;\n  border-radius: 5px;\n\n  padding: .3em 1em;\n  cursor: pointer;\n`;\n\n\n/* C */\n\nexport { C }\nexport const ChevronLeft = styled(_ChevronLeft)`\n  color: ${(p) => p.theme.colors.text}\n`;\nexport const ChevronRight = styled(_ChevronRight)`\n  color: ${(p) => p.theme.colors.text}\n`;\n\n/**\n * A Card\n */\nexport const Card = styled(_Box)`\n  margin-bottom: 1em;\n  padding: 1em;\n  background: white;\n  cursor: ${p => p.cursor ? p.cursor : 'auto'};\n\n  display: flex;\n  flex-direction: column;\n`;\n\nexport { default as Collapsible } from \"./Collapsible\"\nexport const CollapsibleContext = React.createContext({})\n/**\n * @TODO: test-driven\n */\nexport const CollapsibleContextProvider = ({ children, ...props }) => {\n  // logg(props, 'CollapsibleContextProvider')\n\n  let defaultCollapsibles = {\n    [C.collapsible.descr]: true,\n  }\n  let tmp\n  if (tmp = localStorage.getItem(C.collapsibles)) {\n    try {\n      defaultCollapsibles = JSON.parse(tmp)\n    } catch (err) {\n      logg(err, 'Could not parse collapsibles from localStorage')\n    }\n  }\n  const [ collapsibles, _setCollapsibles ] = useState(defaultCollapsibles)\n  const setCollapsibles = (m) => {\n    localStorage.setItem(C.collapsibles, JSON.stringify(m))\n    _setCollapsibles(m)\n  }\n\n  return <CollapsibleContext.Provider value={{\n    collapsibles, setCollapsibles,\n  }} >{ children }</CollapsibleContext.Provider>\n}\n\n/* D */\n/* I */\n\n/**\n * Like the rails inflector, has methods:\n * tableize()\n */\nexport const inflector = {\n  tableize: (m) => {\n    switch(m) {\n      case 'Gallery':\n        return 'galleries'\n      default:\n      return `${m.toLowerCase()}s`\n    }\n  },\n}\n\n/* J */\n\n\n/* L */\n\n\n// From: https://codepen.io/charlyarg/pen/GByKja\nconst _Circle = styled.div`\n  position: fixed;\n  z-index: 999;\n  overflow: show;\n  margin: auto;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  width: 50px;\n  height: 50px;\n`;\nexport const Loading = (p) => <_Circle><_CircularProgress /></_Circle>\n\n/**\n * Usage: logg(someObject, 'label')\n *\n * This development-grade logger can be used instead of console.log() with some advantages:\n * * It encourages consistent labeling of logs. By labeling each log line, you can have dozens of log lines\n * written per action, and still know which log line comes from where.\n * The recommended label is the component name, or function name.\n * * If the label is present, the logged object is placed in the window, allowing you to inspect it in the console. The\n * label becomes the name of the object (stripped to [0-9a-zA-Z\\-_] chars). If you're logging a function, you can execute it.\n * If you log more than one thing, they can interact, allowing you to validate control flow.\n * * the logger can be turned off by making this function simply return.\n */\nconst logg = (a, b=\"\", c=null) => {\n  c = \"string\" === typeof c ? c : b.replace(/\\W/g, \"\");\n  if (c.length > 0) {\n    window[c] = a;\n  }\n\n  console.log(`+++ ${b}:`, a); // eslint-disable-line no-console\n};\n// optimized for Android (e.g. it inspects and doesn't use window)\nconst logg2 = (a, b=\"\", c=null) => {\n  console.log(`+++ ${b}:`, a.inspect); // eslint-disable-line no-console\n};\nexport { logg, logg2 };\n\n/* M */\nexport const MenuIcon = styled(_MenuIcon)`\n  color: ${(p) => p.theme.colors.text}\n`;\n\n/* P */\n\n/**\n * pretty print date\n */\nexport const pp_date = (d) => (d || \"\" ).substring(0, 10)\n\n/* R */\n\nexport { default as request } from \"./request\"\n\n/* S */\nexport { default as S } from \"./S\"\n\n/* T */\n\nexport const TwofoldContext = React.createContext({})\nexport const TwofoldContextProvider = ({ children, ...props }) => {\n  // logg(props, 'TwofoldContextProvider')\n  const {\n    layout, setLayout,\n    loginModalOpen, setLoginModalOpen,\n    theme, toggleTheme,\n  } = props\n\n  /* B */\n  // @TODO: does localStorage work like this on mobile?\n  // @TODO: try and catch\n  const [ bottomDrawerOpen, _setBottomDrawerOpen ] = useState(JSON.parse(localStorage.getItem(C.bottomDrawerOpen)))\n  const setBottomDrawerOpen = (m) => {\n    localStorage.setItem(C.bottomDrawerOpen, JSON.stringify(m))\n    _setBottomDrawerOpen(m)\n  }\n\n  /* F */\n  const [ folded, setFolded ] = useState()\n\n  /* I */\n  const [ itemToUnlock, _setItemToUnlock ] = useState({})\n  const setItemToUnlock = (item) => {\n    if (itemToUnlock.id !== item.id && !loginModalOpen) {\n      _setItemToUnlock(item)\n    }\n  }\n\n  /* M */\n  const [ mapPanelWidth, setMapPanelWidth ] = useState(null)\n  const [ mapPanelHeight, setMapPanelHeight ] = useState(null)\n\n  /* R */\n  const [ ratedConfirmation, _setRatedConfirmation ] = useState(JSON.parse(localStorage.getItem(C.ratedConfirmation)))\n  const setRatedConfirmation = (which) => {\n    logg(which, 'setting')\n\n    localStorage.setItem(C.ratedConfirmation, JSON.stringify(which))\n    _setRatedConfirmation(which)\n  }\n\n  /* S */\n  const [ showItem, setShowItem ] = useState(false)\n  const [ showUrl, setShowUrl ] = useState(false)\n\n  /* T */\n  let tmp, defaultTwofoldPercent = 0.5\n  if (tmp = localStorage.getItem(C.twofoldPercent)) {\n    try {\n      defaultTwofoldPercent = JSON.parse(tmp)\n    } catch (err) {\n      logg(err, 'cannot get twofoldPercent from localStorage')\n    }\n  }\n  const [ twofoldPercent, setTwofoldPercent ] = useState(0.5)\n\n  /* Z */\n  const [ zoom, setZoom ] = useState(1)\n\n  return <TwofoldContext.Provider value={{\n    bottomDrawerOpen, setBottomDrawerOpen,\n\n    folded, setFolded,\n\n    itemToUnlock, setItemToUnlock,\n\n    layout, setLayout,\n    loginModalOpen, setLoginModalOpen,\n\n    mapPanelHeight, setMapPanelHeight,\n    mapPanelWidth, setMapPanelWidth,\n\n    ratedConfirmation, setRatedConfirmation,\n\n    showItem, setShowItem,\n    showUrl, setShowUrl,\n\n    twofoldPercent, setTwofoldPercent,\n\n    zoom, setZoom,\n\n    theme, toggleTheme,\n  }} >{ children }</TwofoldContext.Provider>\n}\n\n/* U */\nexport { default as useWindowSize } from './useWindowSize'\n\n/* W */\n\n/**\n * Wrapper Bordered. This expects a list? _vp_ 2021-11-02\n * Used in collapsibles and MarkersList\n */\nexport const WBordered = styled.div`\n  border: ${p => p.theme.thinBorder};\n  border-radius: ${p => p.theme.thinBorderRadius};\n  background: ${p => p.theme.colors.cardBackground};\n  padding: .5em;\n\n  margin-bottom: 1em;\n`;\n\n/**\n * Wrapper Bordered Item. Is padded, margined.\n */\nexport const WBorderedItem = styled.div`\n  border: ${p => p.theme.thinBorder};\n  border-radius: ${p => p.theme.thinBorderRadius};\n  background: ${p => p.theme.colors.cardBackground};\n  color: ${p => p.theme.colors.text};\n\n  margin: 0 .5em .5em 0;\n  padding: .5em;\n\n  text-align: center;\n\n  width: 18%;\n  max-width: 140px;\n  min-width: 120px;\n`;\n\n\nexport const WidgetContainer = ({ children, ...props }) => {\n  return <WBordered {...props} >{ children }</WBordered>\n}\n\nexport const Wrapper = styled.div`\n  height: 100vh;\n`;\n\n/* Z */\n\nexport const ZoomContext = React.createContext({})\n\n\n\n","/**\n * ishjs / jwt_manager\n */\n\nimport PropTypes from 'prop-types'\nimport React from 'react'\n\n\n\n// @TODO: testdrive this context,\n// @TODO: replace TwofoldContext in guydme with the one from ishjs.\nexport const JwtContext = React.createContext({})\nconst JwtContextProvider = ({ children, ...props }) => {\n  // logg(props, 'JwtContextProvider')\n\n  const [ currentUser, setCurrentUser ] = useState({})\n  const [ loginModalOpen, setLoginModalOpen ] = useState({})\n\n  const {\n    config,\n  } = props\n\n  return <JwtContext.Provider value={{\n    config,\n    currentUser, setCurrentUser,\n    loginModalOpen, setLoginModalOpen,\n  }} >{ children }</JwtContext.Provider>\n}\nJwtContextProvider.props = {\n  config: PropTypes.object,\n}\nexport { JwtContextProvider }\n\nimport { Btn, logg, request } from \"../shared\" // @TODO: alias $shared\n\nexport const SimpleJwtRow = () => {\n  return <div>\n    <h1>SimpleJwtRow2</h1>\n  </div>\n}\n\n\n\nconst _W = styled.div`\n  display: flex;\n\n  > * {\n    // margin: auto .4em;\n  }\n`;\n\nexport const LoginWithPassword = (props) => {\n  const {\n    config,\n    currentUser, setCurrentUser,\n    loginModalOpen, setLoginModalOpen,\n  } = useContext(JwtContext)\n  const [ email, setEmail ] = useState('')\n  const [ password, setPassword ] = useState('')\n\n  const doPasswordLogin = async (email, password) => {\n    request.post(`${config.apiOrigin}${config.routes.loginPath}`, { email, password }).then((r) => r.data).then((resp) => {\n      localStorage.setItem(C.jwt_token, resp.jwt_token)\n      localStorage.setItem(C.current_user, JSON.stringify(resp))\n      setCurrentUser(resp) // must be done *after* setting C.jwt_token\n      setLoginModalOpen(false)\n    }).catch((e) => {\n      logg(e, 'e322')\n      toast(\"Login failed\")\n      setCurrentUser(C.anonUser)\n    })\n  }\n\n  return <_W>\n    <input type='email' value={email} onChange={(e) => setEmail(e.target.value) } /><br />\n    <input type='password' value={password} onChange={(e) => setPassword(e.target.value) }\n      onKeyDown={(e) => {\n        if (e.key === 'Enter') { doPasswordLogin(email, password) }\n      }}\n    />\n    <Btn onClick={() => doPasswordLogin(email, password)}>Password Login</Btn>\n  </_W>\n}\n\n\nexport const Logout = () => {\n  const { currentUser, setCurrentUser } = useContext(JwtContext)\n  const doLogout = () => {\n    localStorage.removeItem(C.jwt_token)\n    localStorage.removeItem(C.current_user)\n    setCurrentUser({})\n  }\n  return <Btn onClick={doLogout}>Logout</Btn>\n}\n"],"names":["Gt","React","Inner","styled","div","Lt","Label","p","theme","borderWidth","WTransparent","colors","background","W","children","variant","props","C","variants","bordered","WBordered","Collapsible","className","config","ctx","useContext","CollapsibleContext","collapsibles","setCollapsibles","doToggle","slug","collapsible","folded","label","propTypes","PropTypes","string","shape","bool","isRequired","settings","baseURL","apiOrigin","axios","create","S","bottomDrawerClosedHeight","bottomDrawerOpenHeight","breadcrumbsHeight","thinBorderWidth","thinBorderRadius","lightTheme","thinBorder","text","blue","darkGrey","lightGrey","red","border","cardBackground","darkTheme","BackIcon","IonIcon","Btn","ChevronLeft","_ChevronLeft","ChevronRight","_ChevronRight","Card","_Box","cursor","createContext","_Circle","logg","a","b","c","replace","length","window","console","log","MenuIcon","_MenuIcon","TwofoldContext","WBorderedItem","Wrapper","ZoomContext","JwtContext","JwtContextProvider","useState","currentUser","setCurrentUser","loginModalOpen","setLoginModalOpen","object","SimpleJwtRow","_W","LoginWithPassword","email","setEmail","password","setPassword","doPasswordLogin","request","post","routes","loginPath","then","r","data","resp","localStorage","setItem","jwt_token","current_user","JSON","stringify","e","toast","anonUser","target","value","key","Logout","doLogout","removeItem"],"mappings":"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"}