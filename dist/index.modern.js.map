{"version":3,"file":"index.modern.js","sources":["../src/shared/C.jsx","../src/shared/request.jsx","../src/shared/S.jsx","../src/shared/index.jsx","../src/jwt_manager/index.jsx"],"sourcesContent":["\n/**\n * Constants\n */\nconst C = {\n\n  // A\n  anonUser: {}, // as opposed to null\n\n  // B\n  bottomDrawerOpen: 'bottom-drawer-open', // localStorage\n\n  // C\n  collapsible: {\n    description: \"descr-sec\",\n    extra1: \"extra1-sec\",\n    extra2: \"extra2-sec\",\n    extra3: \"extra3-sec\",\n    map: \"map-sec\",\n    markers: \"markers-sec\",\n  },\n  collapsibles: 'collapsibles', // localStorage\n  current_user: 'current_user',\n\n  // F\n  foldedCenter: 'folded-center',\n  foldedLeft: 'folded-left', // twofoldContext\n  foldedRight: 'folded-right',\n\n  // H\n  horizontal: 'horizontal',\n\n  // I\n  item_types: {\n    gallery: 'Gallery',\n    report: 'Report',\n    video: 'Video',\n  },\n\n  // J\n  jwt_token: 'jwt_token',\n\n  // L\n  layout_onecol: 'onecol',\n  layout_mapui: 'mapui',\n  locations: {\n    earth: 'earth',\n  },\n\n  // M\n  map_panel_types: {\n    Equirectangular: \"Equirectangular\",\n    MapPanel: \"MapPanel\",\n    MapPanelNoZoom: \"MapPanelNoZoom\",\n    ThreePanelV1: \"ThreePanelV1\",\n    ThreePanelV4: \"ThreePanelV4\",\n  },\n\n  // R\n  rated: {\n    nc17: 'nc-17',\n  },\n  ratedConfirmation: 'rated-confirmation', // localStorage\n\n  // T\n  theme: 'theme',\n  themes: {\n    dark: 'dark',\n    light: 'light',\n  },\n  twofoldPercent: 'twofold-percent', // localStorage\n\n  // V\n  variants: {\n    bordered: 'bordered', // for Newsitems\n    floating: 'floating', // for main-menu btn\n    inline: 'inline',     // for main-menu btn\n    transparent: 'transparent', // for markers on Right\n  },\n  vertical: 'vertical',\n}\nexport default C\n","\nimport axios from \"axios\"\n\n/*\nimport config from \"config\"\n\nconst settings = {\n  baseURL: config.apiOrigin\n}\n\nexport default axios.create(settings)\n*/\n\nexport default axios.create({})\n","\n/**\n * Style Constants\n */\nconst S = {\n  // Twofold layout\n  borderWidth: '10px',\n  bottomDrawerClosedHeight: '20px',\n  bottomDrawerOpenHeight: '115px',\n  breadcrumbsHeight: '30px',\n\n  thinBorderWidth: '2px',\n  thinBorderRadius: '5px',\n}\n\nconst lightTheme = {\n  ...S,\n  thinBorder: '2px solid black',\n  colors: {\n    text: 'black',\n    background: '#dedede',\n    blue: '#6aa3e9',\n    darkGrey: '#605d5d',\n    lightGrey: '#988b8b',\n    red: 'red',\n    border: 'black',\n    cardBackground: 'white'\n  }\n}\n\nconst darkTheme = {\n  ...S,\n  thinBorder: '2px solid white',\n  colors: {\n    text: 'white',\n    background: '#292929',\n    blue: '#73b0fa',\n    darkGrey: '#b3afaf',\n    lightGrey: '#4a4343',\n    red: '#eb83a8',\n    border: 'white',\n    cardBackground: '#1a1a1a'\n  }\n}\n\nexport default {\n  lightTheme,\n  darkTheme\n}","/*\n *  $shared / index\n */\n// alphabetized\nimport { arrowBack } from 'ionicons/icons'\nimport { IonIcon } from '@ionic/react'\nimport { CircularProgress as _CircularProgress } from '@material-ui/core'\nimport _Box from '@material-ui/core/Box'\nimport { ChevronLeft as _ChevronLeft, ChevronRight as _ChevronRight, Menu as _MenuIcon, } from '@material-ui/icons'\nimport React, { useState } from 'react'\nimport {\n  Link, Switch, BrowserRouter as Router, Redirect, Route as _Route, useHistory, withRouter\n} from 'react-router-dom'\nimport styled from 'styled-components'\n\n/* A */\n// export { default as useApi } from \"./Api\"\n// export { default as AppMock } from \"./AppMock\"\n// export { default as AppRouter } from \"./AppRouter\"\n\n/* B */\n\n/**\n * Back Button\n */\nconst BackIcon = styled(IonIcon)`\n  margin-right: 5px;\n  cursor: pointer;\n`;\nexport const BackBtn = () => {\n  const history = useHistory()\n  return <BackIcon onClick={history.goBack} icon={arrowBack}></BackIcon>\n}\n\n/**\n * Just your regular shadowed box. Pointer cursor. TDD\n */\nexport const Btn = styled.div`\n  border: 1px solid gray;\n  border-radius: 5px;\n\n  padding: .3em 1em;\n  cursor: pointer;\n`;\n\n\n/* C */\nexport { default as C } from './C'\nexport const ChevronLeft = styled(_ChevronLeft)`\n  color: ${(p) => p.theme.colors.text}\n`;\nexport const ChevronRight = styled(_ChevronRight)`\n  color: ${(p) => p.theme.colors.text}\n`;\n\n/**\n * A Card\n */\nexport const Card = styled(_Box)`\n  margin-bottom: 1em;\n  padding: 1em;\n  background: white;\n  cursor: ${p => p.cursor ? p.cursor : 'auto'};\n\n  display: flex;\n  flex-direction: column;\n`;\n\n\n/* D */\n/* I */\n\n/**\n * Like the rails inflector, has methods:\n * tableize()\n */\nexport const inflector = {\n  tableize: (m) => {\n    switch(m) {\n      case 'Gallery':\n        return 'galleries'\n      default:\n      return `${m.toLowerCase()}s`\n    }\n  },\n}\n\n/* L */\n\n\n// From: https://codepen.io/charlyarg/pen/GByKja\nconst _Circle = styled.div`\n  position: fixed;\n  z-index: 999;\n  overflow: show;\n  margin: auto;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  width: 50px;\n  height: 50px;\n`;\nexport const Loading = (p) => <_Circle><_CircularProgress /></_Circle>\n\n/**\n * Usage: logg(someObject, 'label')\n *\n * This development-grade logger can be used instead of console.log() with some advantages:\n * * It encourages consistent labeling of logs. By labeling each log line, you can have dozens of log lines\n * written per action, and still know which log line comes from where.\n * The recommended label is the component name, or function name.\n * * If the label is present, the logged object is placed in the window, allowing you to inspect it in the console. The\n * label becomes the name of the object (stripped to [0-9a-zA-Z\\-_] chars). If you're logging a function, you can execute it.\n * If you log more than one thing, they can interact, allowing you to validate control flow.\n * * the logger can be turned off by making this function simply return.\n */\nconst logg = (a, b=\"\", c=null) => {\n  c = \"string\" === typeof c ? c : b.replace(/\\W/g, \"\");\n  if (c.length > 0) {\n    window[c] = a;\n  }\n\n  console.log(`+++ ${b}:`, a); // eslint-disable-line no-console\n};\n// optimized for Android (e.g. it inspects and doesn't use window)\nconst logg2 = (a, b=\"\", c=null) => {\n  console.log(`+++ ${b}:`, a.inspect); // eslint-disable-line no-console\n};\nexport { logg, logg2 };\n\n/* M */\nexport const MenuIcon = styled(_MenuIcon)`\n  color: ${(p) => p.theme.colors.text}\n`;\n\n/* P */\n\n/**\n * pretty print date\n */\nexport const pp_date = (d) => (d || \"\" ).substring(0, 10)\n\n/* R */\n\nexport { default as request } from \"./request\"\n\n/* S */\nexport { default as S } from \"./S\"\n\n/* T */\n\n/* U */\nexport { default as useWindowSize } from './useWindowSize'\n\n/* W */\n\n/**\n * Wrapper Bordered. This expects a list? _vp_ 2021-11-02\n * Used in collapsibles and MarkersList\n */\nexport const WBordered = styled.div`\n  border: ${p => p.theme.thinBorder};\n  border-radius: ${p => p.theme.thinBorderRadius};\n  background: ${p => p.theme.colors.cardBackground};\n  padding: .5em;\n\n  margin-bottom: 1em;\n`;\n\n/**\n * Wrapper Bordered Item. Is padded, margined.\n */\nexport const WBorderedItem = styled.div`\n  border: ${p => p.theme.thinBorder};\n  border-radius: ${p => p.theme.thinBorderRadius};\n  background: ${p => p.theme.colors.cardBackground};\n  color: ${p => p.theme.colors.text};\n\n  margin: 0 .5em .5em 0;\n  padding: .5em;\n\n  text-align: center;\n\n  width: 18%;\n  max-width: 140px;\n  min-width: 120px;\n`;\n\n\nexport const WidgetContainer = ({ children, ...props }) => {\n  return <WBordered {...props} >{ children }</WBordered>\n}\n\nexport const Wrapper = styled.div`\n  height: 100vh;\n`;\n\n/* Z */\n\nexport const ZoomContext = React.createContext({})\n\n\n\n","/**\n * ishjs / jwt_manager\n */\n\nimport PropTypes from 'prop-types'\nimport React, { useContext, useState } from 'react'\nimport styled from 'styled-components'\n\nimport { Btn, C, logg, request } from \"../shared\" // @TODO: alias $shared\n\n\n\n// @TODO: testdrive this context,\n// @TODO: replace TwofoldContext in guydme with the one from ishjs.\nexport const JwtContext = React.createContext({})\nconst JwtContextProvider = ({ children, ...props }) => {\n  logg(props, 'JwtContextProvider')\n  const {\n    config,\n  } = props\n\n  const maybeUser = localStorage.getItem(C.current_user)||{}\n  const [ currentUser, setCurrentUser ] = useState(maybeUser) // @TODO: see if localStorage has me already logged in!\n  const [ loginModalOpen, setLoginModalOpen ] = useState({})\n\n  return <JwtContext.Provider value={{\n    config,\n    currentUser, setCurrentUser,\n    loginModalOpen, setLoginModalOpen,\n  }} >{ children }</JwtContext.Provider>\n}\nJwtContextProvider.props = {\n  config: PropTypes.object,\n}\nexport { JwtContextProvider }\n\n// @TODO: move to shared?\nconst FlexRow = styled.div`\n  display: flex;\n\n  > * {\n    margin: auto .4em;\n  }\n`;\n\nconst W1 = styled.div`\n  border: 1px solid red;\n`;\n\nexport const SimpleJwtRow = () => {\n  const {\n    config,\n    currentUser, setCurrentUser,\n    loginModalOpen, setLoginModalOpen,\n  } = useContext(JwtContext)\n\n  return <W1>\n    <FlexRow>\n      { /* <FbLogin /> */ }\n      { currentUser.email && <i>{currentUser.email}</i> }\n      { !currentUser.email && <LoginWithPassword /> }\n    </FlexRow>\n  </W1>\n}\n\n\n\nconst _W = styled.div`\n  display: flex;\n\n  > * {\n    // margin: auto .4em;\n  }\n`;\n\nexport const LoginWithPassword = (props) => {\n  logg(useContext(JwtContext), 'useContext(JwtContext)')\n  const {\n    config,\n    currentUser, setCurrentUser,\n    loginModalOpen, setLoginModalOpen,\n  } = useContext(JwtContext)\n  const [ email, setEmail ] = useState('')\n  const [ password, setPassword ] = useState('')\n\n  const doPasswordLogin = async (email, password) => {\n    logg(`${config.apiOrigin}${config.routes.loginWithPasswordPath}`, 'doPasswordLogin')\n    request.post(`${config.apiOrigin}${config.routes.loginWithPasswordPath}`, { email, password }).then((r) => r.data).then((resp) => {\n      localStorage.setItem(C.jwt_token, resp.jwt_token)\n      localStorage.setItem(C.current_user, JSON.stringify(resp))\n      setCurrentUser(resp) // must be done *after* setting C.jwt_token\n      setLoginModalOpen(false)\n    }).catch((e) => {\n      logg(e, 'e322')\n      toast(\"Login failed\")\n      setCurrentUser(C.anonUser)\n    })\n  }\n\n  return <_W>\n    <input type='email' value={email} onChange={(e) => setEmail(e.target.value) } /><br />\n    <input type='password' value={password} onChange={(e) => setPassword(e.target.value) }\n      onKeyDown={(e) => {\n        if (e.key === 'Enter') { doPasswordLogin(email, password) }\n      }}\n    />\n    <Btn onClick={() => doPasswordLogin(email, password)}>Login</Btn>\n  </_W>\n}\n\n\nexport const Logout = () => {\n  const { currentUser, setCurrentUser } = useContext(JwtContext)\n  const doLogout = () => {\n    localStorage.removeItem(C.jwt_token)\n    localStorage.removeItem(C.current_user)\n    setCurrentUser({})\n  }\n  return <Btn onClick={doLogout}>Logout</Btn>\n}\n"],"names":["C","anonUser","bottomDrawerOpen","collapsible","description","extra1","extra2","extra3","map","markers","collapsibles","current_user","foldedCenter","foldedLeft","foldedRight","horizontal","item_types","gallery","report","video","jwt_token","layout_onecol","layout_mapui","locations","earth","map_panel_types","Equirectangular","MapPanel","MapPanelNoZoom","ThreePanelV1","ThreePanelV4","rated","nc17","ratedConfirmation","theme","themes","dark","light","twofoldPercent","variants","bordered","floating","inline","transparent","vertical","axios","create","S","borderWidth","bottomDrawerClosedHeight","bottomDrawerOpenHeight","breadcrumbsHeight","thinBorderWidth","thinBorderRadius","lightTheme","thinBorder","colors","text","background","blue","darkGrey","lightGrey","red","border","cardBackground","darkTheme","BackIcon","styled","IonIcon","Btn","div","ChevronLeft","_ChevronLeft","p","ChevronRight","_ChevronRight","Card","_Box","cursor","_Circle","logg","a","b","c","replace","length","window","console","log","MenuIcon","_MenuIcon","WBordered","WBorderedItem","Wrapper","ZoomContext","React","createContext","JwtContext","JwtContextProvider","children","props","config","maybeUser","localStorage","getItem","useState","currentUser","setCurrentUser","loginModalOpen","setLoginModalOpen","PropTypes","object","FlexRow","W1","SimpleJwtRow","useContext","email","_W","LoginWithPassword","setEmail","password","setPassword","doPasswordLogin","apiOrigin","routes","loginWithPasswordPath","request","post","then","r","data","resp","setItem","JSON","stringify","e","toast","target","value","key","Logout","doLogout","removeItem"],"mappings":"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"}