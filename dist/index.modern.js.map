{"version":3,"file":"index.modern.js","sources":["../src/shared/C.jsx","../src/shared/request.jsx","../src/shared/S.jsx","../src/shared/ThemeProvider.jsx","../src/shared/index.jsx","../src/components/Metaline/Metaline.jsx","../src/components/galleries/GalleriesShow.jsx","../src/TestApp_LeadsDataTable.jsx","../src/components/users/JwtContext.jsx","../src/components/users/LoginModal.jsx","../src/components/users/RegisterModal.jsx","../src/components/users/index.jsx","../src/components/users/Scratchpad.jsx","../src/components/SideMenu/index.jsx","../src/TestApp_Gallery20230112Chitown.jsx","../src/index.jsx"],"sourcesContent":["\n/**\n * Constants\n *\n * @deprecated, I doubt I'll use it here.\n *\n * * C.anonUser\n * * C.current_user\n * * C.jwt_token\n * * C.item_types\n *\n */\nconst C = {\n\n  // A\n  anonUser: {}, // as opposed to null\n\n  // B\n  bottomDrawerOpen: 'bottom-drawer-open', // localStorage\n\n  // C\n  collapsible: {\n    description: \"descr-sec\",\n    extra1: \"extra1-sec\",\n    extra2: \"extra2-sec\",\n    extra3: \"extra3-sec\",\n    map: \"map-sec\",\n    markers: \"markers-sec\",\n  },\n  collapsibles: 'collapsibles', // localStorage\n  current_user: 'current_user',\n\n\n  // H\n  horizontal: 'horizontal',\n\n  // I\n  item_types: {\n    gallery: 'Gallery',\n    report: 'Report',\n    video: 'Video',\n  },\n\n  // J\n  jwt_token: 'jwt_token',\n\n  // L\n  layout_onecol: 'onecol',\n  layout_mapui: 'mapui',\n  locations: {\n    earth: 'earth',\n  },\n\n  // M\n  map_panel_types: {\n    Equirectangular: \"Equirectangular\",\n    MapPanel: \"MapPanel\",\n    MapPanelNoZoom: \"MapPanelNoZoom\",\n    ThreePanelV1: \"ThreePanelV1\",\n    ThreePanelV4: \"ThreePanelV4\",\n  },\n\n  // N\n  names: {\n    scratchpad: 'Scratchpad',\n  },\n\n  // R\n  rated: {\n    nc17: 'nc-17',\n  },\n  ratedConfirmation: 'rated-confirmation', // localStorage\n\n  // T\n  theme: 'theme',\n  themes: {\n    dark: 'dark',\n    light: 'light',\n  },\n  twofoldPercent: 'twofold-percent', // localStorage\n\n  // V\n  variants: {\n    bordered: 'bordered', // for Newsitems\n    floating: 'floating', // for main-menu btn\n    inline: 'inline',     // for main-menu btn\n    transparent: 'transparent', // for markers on Right\n  },\n  vertical: 'vertical',\n}\nexport default C\n","\nimport axios from \"axios\"\n\n/*\nimport config from \"config\"\n\nconst settings = {\n  baseURL: config.apiOrigin\n}\n\nexport default axios.create(settings)\n*/\n\nexport default axios.create({})\n","\n/**\n * Style Constants\n *\n * @TODO: remove this file entirely. _vp_ 2022-09-20\n * @deprecated, use variables.css and css vars\n */\nconst S = {\n  // Twofold layout\n  borderWidth: '10px',\n  bottomDrawerClosedHeight: '24px',\n  bottomDrawerOpenHeight: '124px',\n  breadcrumbsHeight: '30px',\n\n  smallWidth: '10px',\n  mediumWidth: '20px',\n\n  thinBorderWidth: '2px',\n}\n\nconst lightTheme = {\n  ...S,\n  thinBorder: '2px solid black',\n  colors: {\n    text: 'black',\n    background: '#dedede',\n    border: 'black', // removing this...\n    blue: '#6aa3e9',\n    cardBackground: 'white',\n    cyan: \"#49bcc6\",\n    darkGrey: '#605d5d',\n    gold: '#ffe100',\n    lightGrey: '#988b8b',\n    red: 'red',\n  }\n}\n\nconst darkTheme = {\n  ...S,\n  thinBorder: '2px solid white',\n  colors: {\n    text: 'white',\n    background: '#292929',\n    border: 'white', // removing this...\n    blue: '#73b0fa',\n    cardBackground: '#1a1a1a',\n    cyan: \"#49bcc6\",\n    darkGrey: '#b3afaf',\n    gold: '#ffe100',\n    lightGrey: '#4a4343',\n    red: '#eb83a8',\n  }\n}\n\nexport default {\n  lightTheme,\n  darkTheme\n}\n","\nimport React, { useEffect, useState, } from 'react'\nimport { ThemeProvider as _ThemeProvider } from 'styled-components'\n\nimport {\n  C,\n  logg,\n  S,\n} from '$shared'\n\n/**\n * ThemeProvider - this one is my own.\n**/\nexport const ThemeContext = React.createContext({})\nconst ThemeProvider = ({ children, ...props }) => {\n\n  const defaultTheme = 'undefined' === typeof window ? C.themes.light : ( window.localStorage.getItem(C.theme) || C.themes.light )\n  const [theme, setTheme] = useState(defaultTheme)\n\n  // set the body class on page load, client only\n  useEffect(() => {\n    const positive = theme === C.themes.light ? C.themes.light : C.themes.dark\n    const negative = theme === C.themes.light ? C.themes.dark : C.themes.light\n    document.body.classList.remove(negative)\n    document.body.classList.add(positive)\n  }, [])\n\n  // used by DayNightToggle\n  const toggleTheme = (e) => {\n    e.preventDefault()\n    if (theme === C.themes.light) {\n      window.localStorage.setItem(C.theme, C.themes.dark)\n      setTheme(C.themes.dark)\n      document.body.classList.remove(C.themes.light)\n      document.body.classList.add(C.themes.dark)\n    } else {\n      window.localStorage.setItem(C.theme, C.themes.light)\n      setTheme(C.themes.light)\n      document.body.classList.add(C.themes.light)\n      document.body.classList.remove(C.themes.dark)\n    }\n  }\n\n  return <ThemeContext.Provider value={{ theme, setTheme, toggleTheme }} >\n    <_ThemeProvider theme={theme == C.themes.light ? S.lightTheme: S.darkTheme} >\n      { children }\n    </_ThemeProvider>\n  </ThemeContext.Provider>\n}\nexport default ThemeProvider\n\n","/*\n *  $shared / index\n */\nimport { arrowBack, closeOutline, } from 'ionicons/icons'\nimport { CircularProgress as _CircularProgress } from '@material-ui/core'\nimport _Box from '@material-ui/core/Box'\nimport {\n  ChevronLeft as _ChevronLeft,\n  ChevronRight as _ChevronRight,\n  Close as _Close,\n  Menu as _MenuIcon,\n} from '@material-ui/icons'\nimport PropTypes from 'prop-types'\nimport React, { useEffect, useState } from 'react'\nimport {\n  Route as _Route, useHistory,\n} from 'react-router-dom'\nimport styled from 'styled-components'\n\n\n/* A */\n\nconst Actions = styled.div`\n\n  // @TODO: this should use variables, for Modal inner size.\n  // I'd need to do dependency injection of the variable, from infiniteshelterjs into ishlibjs.\n  position: fixed; // for GalleriesShow\n  top: 60px;\n  right: 60px;\n\n  display: flex;\n  flex-direction: row-reverse;\n`;\nexport { Actions }\n\n/* B */\n\n/**\n * Back Button\n */\n// const BackIcon = styled(IonIcon)\n// @TODO: reintroduce IonIcon maybe?\nconst BackIcon = styled.div`\n  margin-right: 5px;\n  cursor: pointer;\n`;\nexport const BackBtn = () => {\n  const history = useHistory()\n  return <BackIcon onClick={history.goBack} icon={arrowBack}></BackIcon>\n}\n\n/**\n * Just your regular shadowed box. Pointer cursor. TDD\n */\nexport const Btn = styled.div`\n  border: 1px solid gray;\n  border-radius: 5px;\n  cursor: pointer;\n  display: inline-block;\n  padding: .3em 1em;\n`;\n\n\n/* C */\nexport { default as C } from './C'\n\nexport const ChevronLeft = styled(_ChevronLeft)`\n  color: ${(p) => p.theme.colors.text}\n`;\nexport const ChevronRight = styled(_ChevronRight)`\n  color: ${(p) => p.theme.colors.text}\n`;\n\n/**\n * Card\n */\nexport const Card = styled(_Box)`\n  margin-bottom: 1em;\n  padding: 1em;\n  background: white;\n  cursor: ${p => p.cursor ? p.cursor : 'auto'};\n\n  display: flex;\n  flex-direction: column;\n`;\n\n/**\n * CloseBtn\n**/\nexport const CloseBtn = ({ children, ...props }) => {\n  return <_Close style={{ cursor: 'pointer', ...props.style }} {...props} />\n};\nCloseBtn.propTypes = {\n  onClick: PropTypes.func.isRequired,\n}\n\n/* D */\n\n/* F */\n\n/**\n * FlexCol\n**/\nconst _FlexCol = styled.div`\n  display: flex;\n  flex-direction: column;\n\n  > * {\n    margin: auto .4em; // @TODO: standardize this size!\n  }\n`;\nexport const FlexCol = ({ children, ...props }) => <_FlexCol className=\"FlexCol\" {...props} >{children}</_FlexCol>\n\n/**\n * FlexRow\n *\n * @TODO: Remove. Where is this used?! This is silly.\n**/\nexport const FlexRow = styled.div`\n  display: flex;\n\n  > * {\n    // margin: auto .4em; // @TODO: why? the LoginModal needs no margins!\n  }\n`;\n\n\n/* I */\n\n/**\n * Like the rails inflector, has methods:\n * tableize()\n */\nexport const inflector = {\n  tableize: (m) => {\n    switch(m) {\n      case 'Gallery':\n        return 'galleries'\n      default:\n      return `${m.toLowerCase()}s`\n    }\n  },\n}\n\n/* L */\n\n\n// From: https://codepen.io/charlyarg/pen/GByKja\nconst _Circle = styled.div`\n  position: fixed;\n  z-index: 999;\n  overflow: show;\n  margin: auto;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  width: 50px;\n  height: 50px;\n`;\nexport const Loading = (p) => <_Circle><_CircularProgress /></_Circle>\n\n/**\n * Usage: logg(someObject, 'label')\n *\n * This development-grade logger can be used instead of console.log() with some advantages:\n * * It encourages consistent labeling of logs. By labeling each log line, you can have dozens of log lines\n * written per action, and still know which log line comes from where.\n * The recommended label is the component name, or function name.\n * * If the label is present, the logged object is placed in the window, allowing you to inspect it in the console. The\n * label becomes the name of the object (stripped to [0-9a-zA-Z\\-_] chars). If you're logging a function, you can execute it.\n * If you log more than one thing, they can interact, allowing you to validate control flow.\n * * the logger can be turned off by making this function simply return.\n */\nconst logg = (a, b=\"\", c=null) => {\n  c = \"string\" === typeof c ? c : b.replace(/\\W/g, \"\");\n  if (c.length > 0 && typeof window !== \"undefined\") {\n    window[c] = a;\n  }\n\n  console.log(`+++ ${b}:`, a); // eslint-disable-line no-console\n};\n// optimized for Android (e.g. it inspects and doesn't use window)\nconst logg2 = (a, b=\"\", c=null) => {\n  console.log(`+++ ${b}:`, a.inspect); // eslint-disable-line no-console\n};\nexport { logg, logg2 };\n\n/* M */\nexport const MenuIcon = styled(_MenuIcon)`\n  color: ${(p) => p.theme.colors.text}\n`;\n\n\nconst _Header = styled.div`\n  flex-grow: 1;\n  text-align: center;\n  font-size: 1.2rem;\n`;\nexport const ModalHeader = ({ children, onClose, ...props }) => {\n  return <FlexRow >\n    <_Header>{children}</_Header>\n    <CloseBtn onClick={onClose} />\n  </FlexRow>\n}\nModalHeader.propTypes = {\n  onClose: PropTypes.func.isRequired,\n}\n\n/* P */\n\n/**\n * pretty print date\n */\nexport const pp_date = (d) => (d || \"\" ).substring(0, 10)\n\n/* R */\n\nexport { default as request } from \"./request\"\n\n/* S */\nexport { default as S } from \"./S\"\n\n/* T */\nexport { default as ThemeProvider, ThemeContext } from './ThemeProvider'\n\n/* U */\nexport { default as useWindowSize } from './useWindowSize'\n\n/* W */\n\n/**\n * Wrapper Bordered. This expects a list? _vp_ 2021-11-02\n * Used in collapsibles and MarkersList\n */\nexport const WBordered = styled.div`\n  border: ${p => p.theme.thinBorder};\n  border-radius: ${p => p.theme.thinBorderRadius};\n  background: ${p => p.theme.colors.cardBackground};\n  padding: .5em;\n\n  margin-bottom: 1em;\n`;\n\n/**\n * Wrapper Bordered Item. Is padded, margined.\n */\nexport const WBorderedItem = styled.div`\n  border: ${p => p.theme.thinBorder};\n  border-radius: ${p => p.theme.thinBorderRadius};\n  background: ${p => p.theme.colors.cardBackground};\n  color: ${p => p.theme.colors.text};\n\n  margin: 0 .5em .5em 0;\n  padding: .5em;\n\n  text-align: center;\n\n  width: 18%;\n  max-width: 140px;\n  min-width: 120px;\n`;\n\n\nexport const WidgetContainer = ({ children, ...props }) => {\n  return <WBordered {...props} >{ children }</WBordered>\n}\n\nexport const Wrapper = styled.div`\n  height: 100vh;\n`;\n\n/* Z */\n\nexport const ZoomContext = React.createContext({})\n\n\n\n","\nimport React from \"react\"\nimport styled from 'styled-components'\n\nimport styles from \"./Metaline.module.scss\"\n\nimport {\n  logg,\n  pp_date,\n} from \"$shared\"\n\nconst W0 = styled.div`\n  margin: .5em 0;\n  color: ${p=>p.theme.colors.text};\n`\n\n/**\n * Metaline\n**/\nconst Metaline = (props) => {\n  // logg(props, 'Metaline')\n  const {\n    created_at, city,\n    tags = [],\n    username,\n  } = props\n\n  return (\n    <W0 className={styles.Metaline} >\n      { created_at && <span className=\"date\">On {pp_date(created_at)}&nbsp;</span>}\n      { username && <>by <span className=\"user\" style={{ textDecoration: 'underline' }} >{username}</span>&nbsp;</> }\n      {/* { city     && <>in <span className=\"city\" onClick={navigateToCity}> {city.name} </span>&nbsp;</> } */}\n      {/* { tags     && tags.map((tag, i) => <span key={i} className=\"tags\">{tag.name}</span>) } */}\n    </W0>\n  );\n\n}\n\nexport default Metaline\n\n","\nimport { IonPage, IonContent, IonButton, IonImg, IonLoading } from \"@ionic/react\"\nimport PropTypes from 'prop-types'\nimport React, { Fragment as F, useContext, useEffect, useRef, useState } from \"react\"\nimport { Route, useLocation, useHistory, Switch } from 'react-router-dom'\nimport styled from 'styled-components'\n\nimport { Metaline } from \"$components/Metaline\"\nimport {\n  logg,\n} from \"$shared\"\n\nimport styles from \"./Galleries.module.scss\"\n\nconst W0 = styled.div`\n  // border: 1px solid blue;\n  height: auto;\n`;\n\n/**\n * GalleriesShow\n * version: 0.0.0\n * _vp_ 2023-01-12\n *\n * Excludes itemToUnlock - this version is public-only\n *\n * @TODO: inject useApi EITHER thru props OR thru ApiProvider _vp_ 2023-01-12\n * @TODO: there is no back button, either! maybe re-add it\n *\n**/\nconst GalleriesShow = (props) => {\n  logg(props, 'GalleriesShow')\n  const {\n    match,\n    useApi,\n  } = props\n\n  const [gallery, setGallery] = useState({})\n\n  const mountedRef = useRef('init')\n\n  const api = useApi() // @TODO: make injectable\n  logg(api, 'api')\n\n  useEffect(() => {\n    api.getGallery(match.params.slug).then(_gallery => {\n      if (!mountedRef.current) { return }\n      setGallery(_gallery)\n    })\n    return () => {\n      mountedRef.current = null\n    }\n  }, [gallery.id] )\n\n  return <W0 className={styles.GalleriesShow} >\n\n    <div className={styles.narrow} >\n      <h1 className={styles.heading} >\n        <span className={styles.title} >{gallery.name}</span>\n      </h1>\n      <Metaline {...gallery} />\n\n      <div className={styles.thumbs} >\n        { gallery.photos && gallery.photos.map((ph, i) =>\n          <div className={styles.card} key={i}>\n            <div>\n              <IonImg src={ph.thumb_url}></IonImg>\n            </div>\n          </div>\n        ) }\n      </div>\n\n      <div dangerouslySetInnerHTML={{ __html: gallery.description }}></div>\n\n    </div>\n    <div className={styles.full_img_section} >\n\n      { gallery.photos && gallery.photos.map((ph, i) =>\n        <div className={styles.item} key={i}>\n          <img src={ph.large_url} />\n        </div>\n      ) }\n\n    </div>\n\n    <hr />\n    <footer>\n      <div className='maxWidth'>\n        ishlibjs v0.2.7 (branch 0.6.0) :: GalleriesShow v0.0.0\n      </div>\n    </footer>\n  </W0>\n}\nGalleriesShow.propsTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      slug: PropTypes.string,\n    }),\n  }),\n  useApi: PropTypes.function,\n}\n\nexport default GalleriesShow\n","\nimport React, { useState, } from 'react'\n\n// import 'react-toastify/dist/ReactToastify.css' // @TODO: re-add somehow nicer.\n\nimport {\n  logg,\n  request,\n  ThemeProvider,\n} from \"$shared\"\nimport {\n  GalleriesShow,\n } from './components/galleries'\n\nconst config = {\n  apiOrigin: 'http://localhost:3001',\n}\n\n/**\n * _vp_ 2023-01-12\n *\n**/\nconst TestApp_LeadsDataTable = () => {\n\n  const api = {\n    getGallery: (slug) => {\n      return request.get(`${config.apiOrigin}/api/galleries/view/${slug}`\n      ).then((r) => r.data.gallery)\n    },\n  }\n\n  return <>\n    <ThemeProvider >\n\n      <Header>\n        <Search />\n        <a >Leads</a>\n        <a >Leadsets</a>\n      </Header>\n\n      <DataTable />\n      <hr />\n\n      <Schedule />\n\n    </ThemeProvider>\n  </>\n}\nexport default TestApp_LeadsDataTable\n","\nimport PropTypes from 'prop-types'\nimport React, { useContext, useEffect, useState } from 'react'\nimport styled from 'styled-components'\nimport { toast } from 'react-toastify'\n\nimport {\n  Btn,\n  logg,\n} from \"$shared\"\n\nexport const JwtContext = React.createContext({})\n\nconst LoginWithPassword = () => {};\n\n/**\n * JwtContextProvider\n**/\nconst JwtContextProvider = ({ children, ...props }) => {\n  logg(props, 'JwtContextProvider 222')\n  const {\n    api,\n  } = props\n\n  const [ currentUser, setCurrentUser ] = useState({})\n  const [ loginModalOpen, setLoginModalOpen ] = useState({})\n\n  // call to verify creds\n  useEffect(() => {\n    logg('setting currentUser...')\n\n    // request.get(`${config.apiOrigin}${config.routes.myAccountPath}`).then((r) => r.data).then((resp) => {\n    api.getMyAccount().then((resp) => {\n      logg(resp, 'got this resp')\n\n      setCurrentUser(resp) // must be done *after* setting localStorage.jwt_token\n    }).catch((e) => {\n      logg(e, 'e322')\n      toast(`Login failed: ${e}`)\n      setCurrentUser({})\n    })\n  }, [])\n\n  return <JwtContext.Provider value={{\n    api,\n    currentUser, setCurrentUser,\n    loginModalOpen, setLoginModalOpen,\n  }} >{ children }</JwtContext.Provider>\n}\nJwtContextProvider.props = {\n  api: PropTypes.object,\n}\nexport { JwtContextProvider }\n\n// @TODO: move to shared?\nconst FlexRow = styled.div`\n  display: flex;\n\n  > * {\n    margin: auto .4em;\n  }\n`;\n\nconst W1 = styled.div`\n  border: 1px solid red;\n`;\n\nconst W2 = styled.div`\n  display: flex;\n`;\n\nexport const SimpleJwtRow = () => {\n  const {\n    api,\n    currentUser, setCurrentUser,\n    loginModalOpen, setLoginModalOpen,\n  } = useContext(JwtContext)\n  // logg(useContext(JwtContext), 'SimpleJwtRowUsedJwtContext')\n\n  return <W1>\n    <FlexRow>\n      { /* <FbLogin /> */ }\n      { currentUser.email && <W2>\n        <i>{currentUser.email}</i>\n        <Logout />\n      </W2>}\n      { !currentUser.email && <LoginWithPassword /> }\n    </FlexRow>\n  </W1>\n}\n\n\n\nconst _W = styled.div`\n  display: flex;\n\n  > * {\n    // margin: auto .4em;\n  }\n`;\n\n\nexport const Logout = () => {\n  const { currentUser, setCurrentUser } = useContext(JwtContext)\n  const doLogout = () => {\n    localStorage.removeItem('jwt_token') // this is not constantized b/c I removed $shared.C from this repo.\n    setCurrentUser({})\n  }\n  return <Btn onClick={doLogout}>Logout</Btn>\n}\n","\nimport PropTypes from 'prop-types'\nimport React, { Fragment as F, useContext, useState, } from 'react'\nimport Modal from \"react-modal\"\nimport styled from 'styled-components'\n\nimport {\n  Btn,\n  FlexCol, FlexRow,\n  logg,\n  ModalHeader,\n} from \"$shared\"\nimport {\n  AuthContext,\n} from './'\n\nimport styles from './LoginModal.module.scss'\n\n/**\n * LoginModal\n**/\nconst LoginModal = (props) => {\n  // logg(props, 'LoginModal, ishlibjs')\n  const {\n    onError, onSuccess,\n  } = props\n\n  const {\n    currentUser, setCurrentUser,\n    loginModalOpen, setLoginModalOpen,\n    registerModalOpen, setRegisterModalOpen,\n    useApi,\n  } = useContext(AuthContext)\n  // logg(useContext(AuthContext), 'LoginModalUsedAuthContext')\n\n  const [ email, setEmail ] = useState('')\n  const [ password, setPassword ] = useState('')\n  const api = useApi()\n\n  const doPasswordLogin = async (email, password) => {\n    api.postLogin({ email, password }).then((r) => {\n      setLoginModalOpen(false)\n      onSuccess(r)\n    }).catch((err) => {\n      onError(err)\n    })\n  }\n\n  Modal.setAppElement('body')\n\n  return <Modal\n    className={`LoginModal ${styles.LoginModal}`}\n    isOpen={!!loginModalOpen}\n    overlayClassName={styles.LoginModalOverlay}\n    portalClassName={styles.LoginModalPortal}\n  >\n    <ModalHeader onClose={() => setLoginModalOpen(false)} >Login</ModalHeader>\n    { 'string' === typeof loginModalOpen && <FlexRow>\n      <div className={styles.Notice} >{ loginModalOpen }</div>\n    </FlexRow> }\n    <FlexCol>\n      <label htmlFor='email'>Email</label>\n      <input name='email' type='email' value={email} onChange={(e) => setEmail(e.target.value)    } />\n\n      <label htmlFor='password'>Password</label>\n      <input name='password' type='password' value={password} onChange={(e) => setPassword(e.target.value) }\n        onKeyDown={(e) => { if (e.key === 'Enter') { doPasswordLogin(email, password) } }}\n      />\n      <FlexRow style={{\n        flexDirection: 'row-reverse',\n        justifyContent: 'space-between',\n        marginTop: '0.4em',\n      }} >\n        <Btn onClick={() => doPasswordLogin(email, password)}>Login</Btn>\n      </FlexRow>\n    </FlexCol>\n    <hr style={{ margin: '2rem 0', borderWidth: '1px' }} />\n    <FlexRow style={{ justifyContent: 'center' }} >\n      <a onClick={() => { setLoginModalOpen(false) ; setRegisterModalOpen(true) }}>Register Instead</a>\n    </FlexRow>\n  </Modal>\n}\nLoginModal.propTypes = {\n  onError: PropTypes.func,\n  onSuccess: PropTypes.func,\n}\nexport default LoginModal\n","\nimport React, { useContext, useState, } from 'react'\nimport Modal from \"react-modal\"\nimport { toast } from 'react-toastify'\nimport PropTypes from 'prop-types'\n\nimport {\n  Btn,\n  C, CloseBtn,\n  FlexCol, FlexRow,\n  ModalHeader,\n  logg,\n} from '$shared'\nimport {\n  AuthContext,\n} from '$components/users'\n\nimport styles from './LoginModal.module.scss'\n\n\n/**\n * RegisterModal\n *\n * Uses LoginModal styling\n**/\nconst RegisterModal = (props) => {\n  // logg(props, 'RegisterModal')\n\n  const {\n    currentUser, setCurrentUser,\n    loginModalOpen, setLoginModalOpen,\n    registerModalOpen, setRegisterModalOpen,\n    useApi,\n  } = useContext(AuthContext)\n  // logg(useContext(AuthContext), 'registerModalUsedContext')\n\n  const api = useApi()\n\n  const [ email, setEmail ] = useState('')\n  const [ password, setPassword ] = useState('')\n  const [ password2, setPassword2 ] = useState('')\n\n  const doRegister = async (email, password, password2) => {\n    if (password !== password2) {\n      toast('Passwords do not match')\n      return\n    }\n    const out = api.doRegister({ email, password })\n\n    out.then((r) => {\n      setRegisterModalOpen(false)\n      setLoginModalOpen(r.message)\n    }).catch((e) => {\n      toast(\"Registration failed\")\n    })\n  }\n\n  return <Modal\n    className={`LoginModal ${styles.LoginModal}`}\n    isOpen={registerModalOpen}\n    overlayClassName={styles.LoginModalOverlay}\n    portalClassName={styles.LoginModalPortal}\n  >\n    <ModalHeader onClose={() => setRegisterModalOpen(false)} >Register</ModalHeader>\n    <FlexCol>\n      <label htmlFor='email'>Email</label>\n      <input type='email'    name='email'     value={email}    onChange={(e) => setEmail(e.target.value)    } />\n\n      <label htmlFor='password'>Password</label>\n      <input type='password' name='password'  value={password} onChange={(e) => setPassword(e.target.value) } />\n\n      <label htmlFor='password2'>Confirm Password</label>\n      <input type='password' name='password2' value={password2} onChange={(e) => setPassword2(e.target.value) } />\n\n      <FlexRow style={{\n        flexDirection: 'row-reverse',\n        justifyContent: 'space-between',\n        marginTop: '0.4em',\n      }} >\n        <Btn className=\"Submit\" onClick={() => doRegister(email, password, password2) }>Register</Btn>\n      </FlexRow>\n      <hr style={{ margin: '2rem 0', borderWidth: '1px' }} />\n      <FlexRow style={{ justifyContent: 'center' }} >\n        <a onClick={() => setLoginModalOpen(true) || setRegisterModalOpen(false) }>Login Instead</a>\n      </FlexRow>\n    </FlexCol>\n  </Modal>\n}\nRegisterModal.propTypes = {} // None so far\n\nexport default RegisterModal\n","\nimport { Plugins } from '@capacitor/core'\nimport React, { createContext, useContext, useState } from 'react'\nimport PropTypes from 'prop-types'\n\nimport {\n  Btn,\n  C,\n  logg,\n} from '$shared'\n\n/* A */\nconst AuthContext = createContext({})\nconst AuthContextProvider = ({children, ...props }) => {\n  // logg(props, 'AuthContextProvider')\n  let {\n    currentUser: _currentUser = C.anonUser, setCurrentUser: _setCurrentUser,\n    loginModalOpen: _loginModalOpen = false, setLoginModalOpen: _setLoginModalOpen,\n    registerModalOpen: _registerModalOpen = false, setRegisterModalOpen: _setRegisterModalOpen,\n  } = props\n\n  let [ currentUser, setCurrentUser ] = useState(_currentUser)\n  if (_setCurrentUser) {\n    currentUser = _currentUser\n    setCurrentUser = _setCurrentUser\n  }\n\n  let [ loginModalOpen, setLoginModalOpen ] = useState(_loginModalOpen)\n  if (_setLoginModalOpen) {\n    loginModalOpen = _loginModalOpen\n    setLoginModalOpen = _setLoginModalOpen\n  }\n\n  let [ registerModalOpen, setRegisterModalOpen ] = useState(_registerModalOpen)\n  if (_setRegisterModalOpen) {\n    registerModalOpen = _registerModalOpen\n    setRegisterModalOpen = _setRegisterModalOpen\n  }\n\n  const moreProps = {\n    currentUser, setCurrentUser,\n    loginModalOpen, setLoginModalOpen,\n    registerModalOpen, setRegisterModalOpen,\n  }\n\n  //\n  // props.useApi isRequired\n  //\n  return <AuthContext.Provider value={{ ...props, ...moreProps }} >\n    { children }\n  </AuthContext.Provider>\n}\nAuthContextProvider.propTypes = {\n  useApi: PropTypes.func.isRequired,\n}\n\nexport {\n  AuthContext, AuthContextProvider,\n}\n\n/* F */\nconst { FacebookLogin: _FacebookLogin } = Plugins\n\nconst FACEBOOK_PERMISSIONS = ['email']\n\n/* J */\n\n\n\n/* L */\nexport { default as LoginModal } from \"./LoginModal\"\n\n/* R */\nexport { default as RegisterModal } from \"./RegisterModal\"\n\n\n","\nimport React, { Fragment as F, useContext, useState } from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\n\nimport {\n  AuthContext,\n} from '$components/users'\nimport {\n  Actions,\n  Btn,\n  C,\n  logg,\n} from '$shared'\n\nconst W0 = styled.div`\n`;\n\n\n/**\n * A single text area that saves locally and in the cloud.\n */\nconst Scratchpad = (props) => {\n  // logg(props, 'Scratchpad')\n\n  const {\n    useApi,\n  } = useContext(AuthContext)\n\n  const api = useApi()\n\n  const [ txt, setTxt ] = useState(localStorage.getItem(C.names.scratchpad) || '')\n\n  const doSave = () => {\n    localStorage.setItem(C.names.scratchpad, txt)\n    api.postProfile({ scratchpad: txt }).then((data) => {\n      // toast('Updated profile.')\n    }).catch((err) => {\n      logg('Cannot update profile:', err)\n      // toast('e54 - Cannot update profile.')\n    })\n  }\n\n  return <W0>\n    <textarea name='scratchpad' rows='20' cols='40'\n      onChange={(e) => setTxt(e.target.value) }\n      value={txt}\n    / >\n    <Actions>\n      <Btn onClick={doSave}>Save</Btn>\n    </Actions>\n  </W0>\n}\nScratchpad.propTypes = {\n  // none so far\n}\n\nexport default Scratchpad\n","import { IonApp, IonButtons, IonMenuButton } from '@ionic/react'\nimport Drawer from '@material-ui/core/Drawer'\nimport Fab from '@material-ui/core/Fab'\nimport IconButton from '@material-ui/core/IconButton'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport PropTypes from 'prop-types'\nimport React, { Fragment as F, useContext, useEffect, useState } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport styled from 'styled-components'\n\nimport {\n  C,\n  logg,\n  MenuIcon,\n} from \"$shared\"\n\nconst W0 = styled.div`\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-content: space-between;\n`;\n\n\nconst SideMenu = ({ children, ...props }) => {\n  const { listItems } = props\n  // logg(props, 'SideMenu')\n\n  const [ drawerOpen, setDrawerOpen ] = React.useState(false)\n  const [ loading, setLoading ] = useState(false)\n  const history = useHistory()\n\n  return <F>\n\n    { /* @TODO: probably remove from here, too many variations of the button, it gotta be separate */ }\n    { props.variant === C.variants.floating ?\n      <Fab onClick={() => setDrawerOpen(true)} style={{ position: 'absolute', top: 0, left: 0, margin: '.5em', zIndex: 1 }} aria-label='main menu'><MenuIcon /></Fab>\n      : <MenuIcon onClick={() => setDrawerOpen(true)} /> }\n\n    <Drawer anchor={\"left\"} open={drawerOpen} onClose={() => setDrawerOpen(false)} >\n      <W0>\n        <List>\n\n          { listItems.map( ({ label, key, path }) => <ListItem button key={key}\n            onClick={() => {\n              setDrawerOpen(false)\n              history.push(path())\n            } } >{ label }\n          </ListItem> )}\n\n        </List>\n\n        { children }\n      </W0>\n    </Drawer>\n\n  </F>\n}\n\nSideMenu.propTypes = {\n  listItems: PropTypes.array.isRequired, // @TODO: specify: key, label, path\n  variant: PropTypes.string,\n}\nexport default SideMenu\n","\nimport React, { useState, } from 'react'\n\n// import 'react-toastify/dist/ReactToastify.css' // @TODO: re-add somehow nicer.\n\nimport {\n  logg,\n  request,\n  ThemeProvider,\n} from \"$shared\"\nimport {\n  GalleriesShow,\n } from './components/galleries'\n\nconst config = {\n  apiOrigin: 'http://localhost:3001',\n}\n\n/**\n * _vp_ 2023-01-12\n *\n * @TODO: apiRequest should be separate from apiRouter\n**/\nconst Gallery20230112Chitown = () => {\n\n  const api = {\n    getGallery: (slug) => {\n      return request.get(`${config.apiOrigin}/api/galleries/view/${slug}`\n      ).then((r) => r.data.gallery)\n    },\n  }\n\n  return <>\n    <ThemeProvider >\n      <GalleriesShow match={{ params: { slug: 'chicago-scenery-i' } }} useApi={() => api} />\n    </ThemeProvider>\n  </>\n}\nexport default Gallery20230112Chitown\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport {\n  logg,\n} from \"./shared\"\nimport TestApp from './TestApp'\n\n// @TODO: rename\nimport * as jwtManager from './components/users/JwtContext' // this syntax is correct\n\n/* A */\nexport { Actions, } from './shared'\nexport { AuthContext, AuthContextProvider, } from './components/users'\n\n/* C */\nexport { CloseBtn } from './shared'\n\n/* F */\nexport { FlexCol, FlexRow } from \"./shared\"\n\n/* J */\nexport { jwtManager }\n\n/* L */\nexport { logg }\nexport { LoginModal } from './components/users'\n\n/* M */\nexport { ModalHeader } from './shared'\n\n/* P */\n\n/* R */\nexport { RegisterModal } from './components/users'\n\n/* S */\nexport { default as Scratchpad } from \"./components/users/Scratchpad\"\nexport { default as SideMenu } from './components/SideMenu'\n\n/* T */\nexport { default as TestApp_Gallery20230112Chitown } from './TestApp_Gallery20230112Chitown'\n\n\n\n/**\n * main - run\n *\n**/\nif (process.env.REACT_APP_SERVE) {\n  ReactDOM.render(<TestApp />, document.getElementById('root'))\n}\n"],"names":["C","anonUser","bottomDrawerOpen","collapsible","description","extra1","extra2","extra3","map","markers","collapsibles","current_user","horizontal","item_types","gallery","report","video","jwt_token","layout_onecol","layout_mapui","locations","earth","map_panel_types","Equirectangular","MapPanel","MapPanelNoZoom","ThreePanelV1","ThreePanelV4","names","scratchpad","rated","nc17","ratedConfirmation","theme","themes","dark","light","twofoldPercent","variants","bordered","floating","inline","transparent","vertical","axios","create","S","borderWidth","bottomDrawerClosedHeight","bottomDrawerOpenHeight","breadcrumbsHeight","smallWidth","mediumWidth","thinBorderWidth","lightTheme","thinBorder","colors","text","background","border","blue","cardBackground","cyan","darkGrey","gold","lightGrey","red","darkTheme","ThemeContext","React","createContext","ThemeProvider","children","props","defaultTheme","window","localStorage","getItem","setTheme","useState","useEffect","positive","negative","document","body","classList","remove","add","toggleTheme","e","preventDefault","setItem","_ThemeProvider","Actions","styled","div","BackIcon","Btn","ChevronLeft","_ChevronLeft","p","ChevronRight","_ChevronRight","Card","_Box","cursor","CloseBtn","_Close","style","propTypes","onClick","PropTypes","func","isRequired","_FlexCol","FlexCol","FlexRow","_Circle","logg","a","b","c","replace","length","console","log","MenuIcon","_MenuIcon","_Header","ModalHeader","onClose","pp_date","d","substring","WBordered","thinBorderRadius","WBorderedItem","Wrapper","ZoomContext","W0","Metaline","created_at","city","tags","username","styles","textDecoration","GalleriesShow","match","useApi","setGallery","mountedRef","useRef","api","getGallery","params","slug","then","_gallery","current","id","narrow","heading","title","name","thumbs","photos","ph","i","card","thumb_url","__html","full_img_section","item","large_url","propsTypes","shape","string","function","TestApp_LeadsDataTable","JwtContext","LoginWithPassword","JwtContextProvider","currentUser","setCurrentUser","loginModalOpen","setLoginModalOpen","getMyAccount","resp","catch","toast","object","W1","W2","SimpleJwtRow","useContext","email","_W","Logout","doLogout","removeItem","LoginModal","onError","onSuccess","registerModalOpen","setRegisterModalOpen","AuthContext","setEmail","password","setPassword","doPasswordLogin","postLogin","r","err","Modal","setAppElement","LoginModalOverlay","LoginModalPortal","Notice","target","value","key","flexDirection","justifyContent","marginTop","margin","RegisterModal","password2","setPassword2","doRegister","out","message","AuthContextProvider","_currentUser","_setCurrentUser","_loginModalOpen","_setLoginModalOpen","_registerModalOpen","_setRegisterModalOpen","moreProps","Scratchpad","txt","setTxt","doSave","postProfile","data","SideMenu","listItems","drawerOpen","setDrawerOpen","loading","setLoading","history","useHistory","F","variant","position","top","left","zIndex","label","path","push","array","config","apiOrigin","Gallery20230112Chitown","request","get","process","env","REACT_APP_SERVE","ReactDOM","render","TestApp","getElementById"],"mappings":"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"}