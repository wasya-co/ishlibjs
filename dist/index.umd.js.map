{"version":3,"file":"index.umd.js","sources":["../src/shared/C.jsx","../src/shared/request.jsx","../src/shared/index.jsx","../src/components/users/LoginModal.jsx","../src/components/users/RegisterModal.jsx","../src/components/users/index.jsx","../src/TestApp.jsx","../src/components/users/JwtContext.jsx","../src/components/users/Scratchpad.jsx","../src/components/SideMenu/index.jsx","../src/index.jsx"],"sourcesContent":["\n/**\n * Constants\n *\n * @deprecated, I doubt I'll use it here.\n *\n * * C.anonUser\n * * C.current_user\n * * C.jwt_token\n * * C.item_types\n *\n */\nconst C = {\n\n  // A\n  anonUser: {}, // as opposed to null\n\n  // B\n  bottomDrawerOpen: 'bottom-drawer-open', // localStorage\n\n  // C\n  collapsible: {\n    description: \"descr-sec\",\n    extra1: \"extra1-sec\",\n    extra2: \"extra2-sec\",\n    extra3: \"extra3-sec\",\n    map: \"map-sec\",\n    markers: \"markers-sec\",\n  },\n  collapsibles: 'collapsibles', // localStorage\n  current_user: 'current_user',\n\n\n  // H\n  horizontal: 'horizontal',\n\n  // I\n  item_types: {\n    gallery: 'Gallery',\n    report: 'Report',\n    video: 'Video',\n  },\n\n  // J\n  jwt_token: 'jwt_token',\n\n  // L\n  layout_onecol: 'onecol',\n  layout_mapui: 'mapui',\n  locations: {\n    earth: 'earth',\n  },\n\n  // M\n  map_panel_types: {\n    Equirectangular: \"Equirectangular\",\n    MapPanel: \"MapPanel\",\n    MapPanelNoZoom: \"MapPanelNoZoom\",\n    ThreePanelV1: \"ThreePanelV1\",\n    ThreePanelV4: \"ThreePanelV4\",\n  },\n\n  // N\n  names: {\n    scratchpad: 'Scratchpad',\n  },\n\n  // R\n  rated: {\n    nc17: 'nc-17',\n  },\n  ratedConfirmation: 'rated-confirmation', // localStorage\n\n  // T\n  theme: 'theme',\n  themes: {\n    dark: 'dark',\n    light: 'light',\n  },\n  twofoldPercent: 'twofold-percent', // localStorage\n\n  // V\n  variants: {\n    bordered: 'bordered', // for Newsitems\n    floating: 'floating', // for main-menu btn\n    inline: 'inline',     // for main-menu btn\n    transparent: 'transparent', // for markers on Right\n  },\n  vertical: 'vertical',\n}\nexport default C\n","\nimport axios from \"axios\"\n\n/*\nimport config from \"config\"\n\nconst settings = {\n  baseURL: config.apiOrigin\n}\n\nexport default axios.create(settings)\n*/\n\nexport default axios.create({})\n","/*\n *  $shared / index\n */\nimport { arrowBack, closeOutline, } from 'ionicons/icons'\nimport { CircularProgress as _CircularProgress } from '@material-ui/core'\nimport _Box from '@material-ui/core/Box'\nimport {\n  ChevronLeft as _ChevronLeft,\n  ChevronRight as _ChevronRight,\n  Close as _Close,\n  Menu as _MenuIcon,\n} from '@material-ui/icons'\nimport PropTypes from 'prop-types'\nimport React, { useEffect, useState } from 'react'\nimport {\n  Route as _Route, useHistory,\n} from 'react-router-dom'\nimport styled from 'styled-components'\n\n\n/* A */\n\nconst Actions = styled.div`\n\n  // @TODO: this should use variables, for Modal inner size.\n  // I'd need to do dependency injection of the variable, from infiniteshelterjs into ishlibjs.\n  position: fixed; // for GalleriesShow\n  top: 60px;\n  right: 60px;\n\n  display: flex;\n  flex-direction: row-reverse;\n`;\nexport { Actions }\n\n/* B */\n\n/**\n * Back Button\n */\n// const BackIcon = styled(IonIcon)\n// @TODO: reintroduce IonIcon maybe?\nconst BackIcon = styled.div`\n  margin-right: 5px;\n  cursor: pointer;\n`;\nexport const BackBtn = () => {\n  const history = useHistory()\n  return <BackIcon onClick={history.goBack} icon={arrowBack}></BackIcon>\n}\n\n/**\n * Just your regular shadowed box. Pointer cursor. TDD\n */\nexport const Btn = styled.div`\n  border: 1px solid gray;\n  border-radius: 5px;\n  cursor: pointer;\n  display: inline-block;\n  padding: .3em 1em;\n`;\n\n\n/* C */\nexport { default as C } from './C'\n\nexport const ChevronLeft = styled(_ChevronLeft)`\n  color: ${(p) => p.theme.colors.text}\n`;\nexport const ChevronRight = styled(_ChevronRight)`\n  color: ${(p) => p.theme.colors.text}\n`;\n\n/**\n * Card\n */\nexport const Card = styled(_Box)`\n  margin-bottom: 1em;\n  padding: 1em;\n  background: white;\n  cursor: ${p => p.cursor ? p.cursor : 'auto'};\n\n  display: flex;\n  flex-direction: column;\n`;\n\n/**\n * CloseBtn\n**/\nexport const CloseBtn = ({ children, ...props }) => {\n  return <_Close style={{ cursor: 'pointer', ...props.style }} {...props} />\n};\nCloseBtn.propTypes = {\n  onClick: PropTypes.func.isRequired,\n}\n\n/* D */\n\n/* F */\n\n/**\n * FlexCol\n**/\nconst _FlexCol = styled.div`\n  display: flex;\n  flex-direction: column;\n\n  > * {\n    margin: auto .4em; // @TODO: standardize this size!\n  }\n`;\nexport const FlexCol = ({ children, ...props }) => <_FlexCol className=\"FlexCol\" {...props} >{children}</_FlexCol>\n\n/**\n * FlexRow\n *\n * @TODO: Remove. Where is this used?! This is silly.\n**/\nexport const FlexRow = styled.div`\n  display: flex;\n\n  > * {\n    // margin: auto .4em; // @TODO: why? the LoginModal needs no margins!\n  }\n`;\n\n\n/* I */\n\n/**\n * Like the rails inflector, has methods:\n * tableize()\n */\nexport const inflector = {\n  tableize: (m) => {\n    switch(m) {\n      case 'Gallery':\n        return 'galleries'\n      default:\n      return `${m.toLowerCase()}s`\n    }\n  },\n}\n\n/* L */\n\n\n// From: https://codepen.io/charlyarg/pen/GByKja\nconst _Circle = styled.div`\n  position: fixed;\n  z-index: 999;\n  overflow: show;\n  margin: auto;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  width: 50px;\n  height: 50px;\n`;\nexport const Loading = (p) => <_Circle><_CircularProgress /></_Circle>\n\n/**\n * Usage: logg(someObject, 'label')\n *\n * This development-grade logger can be used instead of console.log() with some advantages:\n * * It encourages consistent labeling of logs. By labeling each log line, you can have dozens of log lines\n * written per action, and still know which log line comes from where.\n * The recommended label is the component name, or function name.\n * * If the label is present, the logged object is placed in the window, allowing you to inspect it in the console. The\n * label becomes the name of the object (stripped to [0-9a-zA-Z\\-_] chars). If you're logging a function, you can execute it.\n * If you log more than one thing, they can interact, allowing you to validate control flow.\n * * the logger can be turned off by making this function simply return.\n */\nconst logg = (a, b=\"\", c=null) => {\n  c = \"string\" === typeof c ? c : b.replace(/\\W/g, \"\");\n  if (c.length > 0 && typeof window !== \"undefined\") {\n    window[c] = a;\n  }\n\n  console.log(`+++ ${b}:`, a); // eslint-disable-line no-console\n};\n// optimized for Android (e.g. it inspects and doesn't use window)\nconst logg2 = (a, b=\"\", c=null) => {\n  console.log(`+++ ${b}:`, a.inspect); // eslint-disable-line no-console\n};\nexport { logg, logg2 };\n\n/* M */\nexport const MenuIcon = styled(_MenuIcon)`\n  color: ${(p) => p.theme.colors.text}\n`;\n\n\nconst _Header = styled.div`\n  flex-grow: 1;\n  text-align: center;\n  font-size: 1.2rem;\n`;\nexport const ModalHeader = ({ children, onClose, ...props }) => {\n  return <FlexRow >\n    <_Header>{children}</_Header>\n    <CloseBtn onClick={onClose} />\n  </FlexRow>\n}\nModalHeader.propTypes = {\n  onClose: PropTypes.func.isRequired,\n}\n\n/* P */\n\n/**\n * pretty print date\n */\nexport const pp_date = (d) => (d || \"\" ).substring(0, 10)\n\n/* R */\n\nexport { default as request } from \"./request\"\n\n/* S */\n\n/* T */\n\n/* U */\nexport { default as useWindowSize } from './useWindowSize'\n\n/* W */\n\n/**\n * Wrapper Bordered. This expects a list? _vp_ 2021-11-02\n * Used in collapsibles and MarkersList\n */\nexport const WBordered = styled.div`\n  border: ${p => p.theme.thinBorder};\n  border-radius: ${p => p.theme.thinBorderRadius};\n  background: ${p => p.theme.colors.cardBackground};\n  padding: .5em;\n\n  margin-bottom: 1em;\n`;\n\n/**\n * Wrapper Bordered Item. Is padded, margined.\n */\nexport const WBorderedItem = styled.div`\n  border: ${p => p.theme.thinBorder};\n  border-radius: ${p => p.theme.thinBorderRadius};\n  background: ${p => p.theme.colors.cardBackground};\n  color: ${p => p.theme.colors.text};\n\n  margin: 0 .5em .5em 0;\n  padding: .5em;\n\n  text-align: center;\n\n  width: 18%;\n  max-width: 140px;\n  min-width: 120px;\n`;\n\n\nexport const WidgetContainer = ({ children, ...props }) => {\n  return <WBordered {...props} >{ children }</WBordered>\n}\n\nexport const Wrapper = styled.div`\n  height: 100vh;\n`;\n\n/* Z */\n\nexport const ZoomContext = React.createContext({})\n\n\n\n","\nimport PropTypes from 'prop-types'\nimport React, { Fragment as F, useContext, useState, } from 'react'\nimport Modal from \"react-modal\"\nimport styled from 'styled-components'\n\nimport {\n  Btn,\n  FlexCol, FlexRow,\n  logg,\n  ModalHeader,\n} from \"$shared\"\nimport {\n  AuthContext,\n} from './'\n\nimport styles from './LoginModal.module.scss'\n\n/**\n * LoginModal\n**/\nconst LoginModal = (props) => {\n  // logg(props, 'LoginModal, ishlibjs')\n  const {\n    onError, onSuccess,\n  } = props\n\n  const {\n    currentUser, setCurrentUser,\n    loginModalOpen, setLoginModalOpen,\n    registerModalOpen, setRegisterModalOpen,\n    useApi,\n  } = useContext(AuthContext)\n  // logg(useContext(AuthContext), 'LoginModalUsedAuthContext')\n\n  const [ email, setEmail ] = useState('')\n  const [ password, setPassword ] = useState('')\n  const api = useApi()\n\n  const doPasswordLogin = async (email, password) => {\n    api.postLogin({ email, password }).then((r) => {\n      setLoginModalOpen(false)\n      onSuccess(r)\n    }).catch((err) => {\n      onError(err)\n    })\n  }\n\n  Modal.setAppElement('body')\n\n  return <Modal\n    className={`LoginModal ${styles.LoginModal}`}\n    isOpen={!!loginModalOpen}\n    overlayClassName={styles.LoginModalOverlay}\n    portalClassName={styles.LoginModalPortal}\n  >\n    <ModalHeader onClose={() => setLoginModalOpen(false)} >Login</ModalHeader>\n    { 'string' === typeof loginModalOpen && <FlexRow>\n      <div className={styles.Notice} >{ loginModalOpen }</div>\n    </FlexRow> }\n    <FlexCol>\n      <label htmlFor='email'>Email</label>\n      <input name='email' type='email' value={email} onChange={(e) => setEmail(e.target.value)    } />\n\n      <label htmlFor='password'>Password</label>\n      <input name='password' type='password' value={password} onChange={(e) => setPassword(e.target.value) }\n        onKeyDown={(e) => { if (e.key === 'Enter') { doPasswordLogin(email, password) } }}\n      />\n      <FlexRow style={{\n        flexDirection: 'row-reverse',\n        justifyContent: 'space-between',\n        marginTop: '0.4em',\n      }} >\n        <Btn onClick={() => doPasswordLogin(email, password)}>Login</Btn>\n      </FlexRow>\n    </FlexCol>\n    <hr style={{ margin: '2rem 0', borderWidth: '1px' }} />\n    <FlexRow style={{ justifyContent: 'center' }} >\n      <a onClick={() => { setLoginModalOpen(false) ; setRegisterModalOpen(true) }}>Register Instead</a>\n    </FlexRow>\n  </Modal>\n}\nLoginModal.propTypes = {\n  onError: PropTypes.func,\n  onSuccess: PropTypes.func,\n}\nexport default LoginModal\n","\nimport React, { useContext, useState, } from 'react'\nimport Modal from \"react-modal\"\nimport { toast } from 'react-toastify'\nimport PropTypes from 'prop-types'\n\nimport {\n  Btn,\n  C, CloseBtn,\n  FlexCol, FlexRow,\n  ModalHeader,\n  logg,\n} from '$shared'\nimport {\n  AuthContext,\n} from '$components/users'\n\nimport styles from './LoginModal.module.scss'\n\n\n/**\n * RegisterModal\n *\n * Uses LoginModal styling\n**/\nconst RegisterModal = (props) => {\n  // logg(props, 'RegisterModal')\n\n  const {\n    currentUser, setCurrentUser,\n    loginModalOpen, setLoginModalOpen,\n    registerModalOpen, setRegisterModalOpen,\n    useApi,\n  } = useContext(AuthContext)\n  // logg(useContext(AuthContext), 'registerModalUsedContext')\n\n  const api = useApi()\n\n  const [ email, setEmail ] = useState('')\n  const [ password, setPassword ] = useState('')\n  const [ password2, setPassword2 ] = useState('')\n\n  const doRegister = async (email, password, password2) => {\n    if (password !== password2) {\n      toast('Passwords do not match')\n      return\n    }\n    const out = api.doRegister({ email, password })\n\n    out.then((r) => {\n      setRegisterModalOpen(false)\n      setLoginModalOpen(r.message)\n    }).catch((e) => {\n      toast(\"Registration failed\")\n    })\n  }\n\n  return <Modal\n    className={`LoginModal ${styles.LoginModal}`}\n    isOpen={registerModalOpen}\n    overlayClassName={styles.LoginModalOverlay}\n    portalClassName={styles.LoginModalPortal}\n  >\n    <ModalHeader onClose={() => setRegisterModalOpen(false)} >Register</ModalHeader>\n    <FlexCol>\n      <label htmlFor='email'>Email</label>\n      <input type='email'    name='email'     value={email}    onChange={(e) => setEmail(e.target.value)    } />\n\n      <label htmlFor='password'>Password</label>\n      <input type='password' name='password'  value={password} onChange={(e) => setPassword(e.target.value) } />\n\n      <label htmlFor='password2'>Confirm Password</label>\n      <input type='password' name='password2' value={password2} onChange={(e) => setPassword2(e.target.value) } />\n\n      <FlexRow style={{\n        flexDirection: 'row-reverse',\n        justifyContent: 'space-between',\n        marginTop: '0.4em',\n      }} >\n        <Btn className=\"Submit\" onClick={() => doRegister(email, password, password2) }>Register</Btn>\n      </FlexRow>\n      <hr style={{ margin: '2rem 0', borderWidth: '1px' }} />\n      <FlexRow style={{ justifyContent: 'center' }} >\n        <a onClick={() => setLoginModalOpen(true) || setRegisterModalOpen(false) }>Login Instead</a>\n      </FlexRow>\n    </FlexCol>\n  </Modal>\n}\nRegisterModal.propTypes = {} // None so far\n\nexport default RegisterModal\n","\nimport { Plugins } from '@capacitor/core'\nimport React, { createContext, useContext, useState } from 'react'\nimport PropTypes from 'prop-types'\n\nimport {\n  Btn,\n  C,\n  logg,\n} from '$shared'\n\n/* A */\nconst AuthContext = createContext({})\nconst AuthContextProvider = ({children, ...props }) => {\n  logg(props, 'AuthContextProvider')\n  let {\n    currentUser: _currentUser = C.anonUser, setCurrentUser: _setCurrentUser,\n    loginModalOpen: _loginModalOpen = false, setLoginModalOpen: _setLoginModalOpen,\n    registerModalOpen: _registerModalOpen = false, setRegisterModalOpen: _setRegisterModalOpen,\n  } = props\n\n  let [ currentUser, setCurrentUser ] = useState(_currentUser)\n  if (_setCurrentUser) {\n    currentUser = _currentUser\n    setCurrentUser = _setCurrentUser\n  }\n\n  let [ loginModalOpen, setLoginModalOpen ] = useState(_loginModalOpen)\n  if (_setLoginModalOpen) {\n    loginModalOpen = _loginModalOpen\n    setLoginModalOpen = _setLoginModalOpen\n  }\n\n  let [ registerModalOpen, setRegisterModalOpen ] = useState(_registerModalOpen)\n  if (_setRegisterModalOpen) {\n    registerModalOpen = _registerModalOpen\n    setRegisterModalOpen = _setRegisterModalOpen\n  }\n\n  const moreProps = {\n    currentUser, setCurrentUser,\n    loginModalOpen, setLoginModalOpen,\n    registerModalOpen, setRegisterModalOpen,\n  }\n\n  return <AuthContext.Provider value={{ ...props, ...moreProps }} >\n    { children }\n  </AuthContext.Provider>\n}\nAuthContextProvider.propTypes = {\n  useApi: PropTypes.func.isRequired,\n}\n\nexport {\n  AuthContext, AuthContextProvider,\n}\n\n/* F */\nconst { FacebookLogin: _FacebookLogin } = Plugins\n\nconst FACEBOOK_PERMISSIONS = ['email']\n\n/* J */\n\n\n\n/* L */\nexport { default as LoginModal } from \"./LoginModal\"\n\n/* R */\nexport { default as RegisterModal } from \"./RegisterModal\"\n\n\n","\nimport React, { useState, } from 'react'\nimport { toast, ToastContainer } from 'react-toastify'\n\n// import 'react-toastify/dist/ReactToastify.css' // @TODO: re-add somehow nicer.\n\nimport {\n  logg,\n  request,\n} from \"$shared\"\nimport {\n  AuthContextProvider,\n  LoginModal,\n } from './components/users'\n\nconst config = {\n  apiOrigin: 'http://localhost:3001',\n}\n\nconst TestApp = () => {\n\n  const useApi = () => ({\n    doRegister: ({ email, password }) => {\n      return request.post(`${config.apiOrigin}/api/users`, { email, password }).then((r) => r.data).then((r) => {\n        logg(r, 'done registered')\n        return r\n      })\n    },\n  })\n\n  const [ loginModalOpen, setLoginModalOpen ] = useState(false) // useState(\"Please login!\")\n  const [ registerModalOpen, setRegisterModalOpen ] = useState(true) // useState(\"Please register\")\n\n  return <AuthContextProvider {...{\n    loginModalOpen, setLoginModalOpen,\n    registerModalOpen, setRegisterModalOpen,\n    useApi,\n  }} >\n\n    <LoginModal />\n\n\n    <ToastContainer position=\"bottom-left\" />\n  </AuthContextProvider>\n}\nexport default TestApp\n","\nimport PropTypes from 'prop-types'\nimport React, { useContext, useEffect, useState } from 'react'\nimport styled from 'styled-components'\nimport { toast } from 'react-toastify'\n\nimport {\n  Btn,\n  logg,\n} from \"$shared\"\n\nexport const JwtContext = React.createContext({})\n\n/**\n * JwtContextProvider\n**/\nconst JwtContextProvider = ({ children, ...props }) => {\n  logg(props, 'JwtContextProvider 222')\n  const {\n    api,\n  } = props\n\n  const [ currentUser, setCurrentUser ] = useState({})\n  const [ loginModalOpen, setLoginModalOpen ] = useState({})\n\n  // call to verify creds\n  useEffect(() => {\n    logg('setting currentUser...')\n\n    // request.get(`${config.apiOrigin}${config.routes.myAccountPath}`).then((r) => r.data).then((resp) => {\n    api.getMyAccount().then((resp) => {\n      logg(resp, 'got this resp')\n\n      setCurrentUser(resp) // must be done *after* setting localStorage.jwt_token\n    }).catch((e) => {\n      logg(e, 'e322')\n      toast(`Login failed: ${e}`)\n      setCurrentUser({})\n    })\n  }, [])\n\n  return <JwtContext.Provider value={{\n    api,\n    currentUser, setCurrentUser,\n    loginModalOpen, setLoginModalOpen,\n  }} >{ children }</JwtContext.Provider>\n}\nJwtContextProvider.props = {\n  api: PropTypes.object,\n}\nexport { JwtContextProvider }\n\n// @TODO: move to shared?\nconst FlexRow = styled.div`\n  display: flex;\n\n  > * {\n    margin: auto .4em;\n  }\n`;\n\nconst W1 = styled.div`\n  border: 1px solid red;\n`;\n\nconst W2 = styled.div`\n  display: flex;\n`;\n\nexport const SimpleJwtRow = () => {\n  const {\n    api,\n    currentUser, setCurrentUser,\n    loginModalOpen, setLoginModalOpen,\n  } = useContext(JwtContext)\n  // logg(useContext(JwtContext), 'SimpleJwtRowUsedJwtContext')\n\n  return <W1>\n    <FlexRow>\n      { /* <FbLogin /> */ }\n      { currentUser.email && <W2>\n        <i>{currentUser.email}</i>\n        <Logout />\n      </W2>}\n      { !currentUser.email && <LoginWithPassword /> }\n    </FlexRow>\n  </W1>\n}\n\n\n\nconst _W = styled.div`\n  display: flex;\n\n  > * {\n    // margin: auto .4em;\n  }\n`;\n\n\nexport const Logout = () => {\n  const { currentUser, setCurrentUser } = useContext(JwtContext)\n  const doLogout = () => {\n    localStorage.removeItem('jwt_token') // this is not constantized b/c I removed $shared.C from this repo.\n    setCurrentUser({})\n  }\n  return <Btn onClick={doLogout}>Logout</Btn>\n}\n","\nimport React, { Fragment as F, useContext, useState } from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\n\nimport {\n  AuthContext,\n} from '$components/users'\nimport {\n  Actions,\n  Btn,\n  C,\n  logg,\n} from '$shared'\n\nconst W0 = styled.div`\n`;\n\n\n/**\n * A single text area that saves locally and in the cloud.\n */\nconst Scratchpad = (props) => {\n  // logg(props, 'Scratchpad')\n\n  const {\n    useApi,\n  } = useContext(AuthContext)\n\n  const api = useApi()\n\n  const [ txt, setTxt ] = useState(localStorage.getItem(C.names.scratchpad) || '')\n\n  const doSave = () => {\n    localStorage.setItem(C.names.scratchpad, txt)\n    api.postProfile({ scratchpad: txt }).then((data) => {\n      // toast('Updated profile.')\n    }).catch((err) => {\n      logg('Cannot update profile:', err)\n      // toast('e54 - Cannot update profile.')\n    })\n  }\n\n  return <W0>\n    <textarea name='scratchpad' rows='20' cols='40'\n      onChange={(e) => setTxt(e.target.value) }\n      value={txt}\n    / >\n    <Actions>\n      <Btn onClick={doSave}>Save</Btn>\n    </Actions>\n  </W0>\n}\nScratchpad.propTypes = {\n  // none so far\n}\n\nexport default Scratchpad\n","import { IonApp, IonButtons, IonMenuButton } from '@ionic/react'\nimport Drawer from '@material-ui/core/Drawer'\nimport Fab from '@material-ui/core/Fab'\nimport IconButton from '@material-ui/core/IconButton'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport PropTypes from 'prop-types'\nimport React, { Fragment as F, useContext, useEffect, useState } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport styled from 'styled-components'\n\nimport {\n  C,\n  logg,\n  MenuIcon,\n} from \"$shared\"\n\nconst W0 = styled.div`\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-content: space-between;\n`;\n\n\nconst SideMenu = ({ children, ...props }) => {\n  const { listItems } = props\n  // logg(props, 'SideMenu')\n\n  const [ drawerOpen, setDrawerOpen ] = React.useState(false)\n  const [ loading, setLoading ] = useState(false)\n  const history = useHistory()\n\n  return <F>\n\n    { /* @TODO: probably remove from here, too many variations of the button, it gotta be separate */ }\n    { props.variant === C.variants.floating ?\n      <Fab onClick={() => setDrawerOpen(true)} style={{ position: 'absolute', top: 0, left: 0, margin: '.5em', zIndex: 1 }} aria-label='main menu'><MenuIcon /></Fab>\n      : <MenuIcon onClick={() => setDrawerOpen(true)} /> }\n\n    <Drawer anchor={\"left\"} open={drawerOpen} onClose={() => setDrawerOpen(false)} >\n      <W0>\n        <List>\n\n          { listItems.map( ({ label, key, path }) => <ListItem button key={key}\n            onClick={() => {\n              setDrawerOpen(false)\n              history.push(path())\n            } } >{ label }\n          </ListItem> )}\n\n        </List>\n\n        { children }\n      </W0>\n    </Drawer>\n\n  </F>\n}\n\nSideMenu.propTypes = {\n  listItems: PropTypes.array.isRequired, // @TODO: specify: key, label, path\n  variant: PropTypes.string,\n}\nexport default SideMenu\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport {\n  logg,\n} from \"./shared\"\nimport TestApp from './TestApp'\n\n// @TODO: rename\nimport * as jwtManager from './components/users/JwtContext' // this syntax is correct\n\n/* A */\nexport { Actions, } from './shared'\nexport { AuthContext, AuthContextProvider, } from './components/users'\n\n/* C */\nexport { CloseBtn } from './shared'\n\n/* F */\nexport { FlexCol, FlexRow } from \"./shared\"\n\n/* J */\nexport { jwtManager }\n\n/* L */\nexport { logg }\nexport { LoginModal } from './components/users'\n\n/* M */\nexport { ModalHeader } from './shared'\n\n/* P */\n\n/* R */\nexport { RegisterModal } from './components/users'\n\n/* S */\nexport { default as Scratchpad } from \"./components/users/Scratchpad\"\nexport { default as SideMenu } from './components/SideMenu'\n\nif (process.env.REACT_APP_SERVE) {\n  ReactDOM.render(<TestApp />, document.getElementById('root'))\n}\n"],"names":["C","anonUser","bottomDrawerOpen","collapsible","description","extra1","extra2","extra3","map","markers","collapsibles","current_user","horizontal","item_types","gallery","report","video","jwt_token","layout_onecol","layout_mapui","locations","earth","map_panel_types","Equirectangular","MapPanel","MapPanelNoZoom","ThreePanelV1","ThreePanelV4","names","scratchpad","rated","nc17","ratedConfirmation","theme","themes","dark","light","twofoldPercent","variants","bordered","floating","inline","transparent","vertical","axios","create","Actions","styled","div","BackIcon","Btn","ChevronLeft","_ChevronLeft","p","colors","text","ChevronRight","_ChevronRight","Card","_Box","cursor","CloseBtn","props","React","_Close","style","propTypes","onClick","PropTypes","func","isRequired","_FlexCol","FlexCol","children","FlexRow","_Circle","logg","a","b","c","replace","length","window","console","log","MenuIcon","_MenuIcon","_Header","ModalHeader","onClose","WBordered","thinBorder","thinBorderRadius","cardBackground","WBorderedItem","Wrapper","ZoomContext","createContext","LoginModal","onError","onSuccess","useContext","AuthContext","currentUser","loginModalOpen","setLoginModalOpen","registerModalOpen","setRegisterModalOpen","useApi","useState","email","setEmail","password","setPassword","api","doPasswordLogin","postLogin","then","r","catch","err","Modal","setAppElement","styles","LoginModalOverlay","LoginModalPortal","Notice","e","target","value","key","flexDirection","justifyContent","marginTop","margin","borderWidth","RegisterModal","password2","setPassword2","doRegister","toast","out","message","AuthContextProvider","_currentUser","_setCurrentUser","setCurrentUser","_loginModalOpen","_setLoginModalOpen","_registerModalOpen","_setRegisterModalOpen","moreProps","config","apiOrigin","TestApp","request","post","data","ToastContainer","JwtContext","JwtContextProvider","useEffect","getMyAccount","resp","object","W1","W2","SimpleJwtRow","_W","Logout","doLogout","localStorage","removeItem","W0","Scratchpad","getItem","txt","setTxt","doSave","setItem","postProfile","SideMenu","listItems","drawerOpen","setDrawerOpen","history","useHistory","F","variant","position","top","left","zIndex","label","path","push","array","string","process","env","REACT_APP_SERVE","ReactDOM","render","document","getElementById"],"mappings":"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"}